define("app/ui/profile/add_header_callout",["module","require","exports","core/component"],function(module, require, exports) {
function addHeaderCallout(){this.requestHeaderEditing=function(){this.trigger("uiEditProfileInitializeAndFocusOnHeaderOptions",{scribeElement:"add_header_callout"})},this.disableCallout=function(){this.$node.hide()},this.after("initialize",function(){this.on("click",this.requestHeaderEditing),this.on(document,"uiProfileHeaderUpdated",this.disableCallout)})}var defineComponent=require("core/component");module.exports=defineComponent(addHeaderCallout)
});
define("app/ui/color_picker",["module","require","exports","core/component","template","core/utils","app/ui/with_dropdown"],function(module, require, exports) {
function colorPicker(){this.defaultAttrs({colorPickerColorBoxSelector:".ColorPicker-color",colorPickerColorRadioSelector:".ColorPicker-color :radio",colorPickerHexBoxSelector:".ColorPicker-hex",colorPickerHexInputSelector:".ColorPicker-hexInput",colorPickerHexRadioSelector:".ColorPicker-hex :radio",colorPickerMoreBoxSelector:".ColorPicker-more",colorPickerMoreRadioSelector:".ColorPicker-more :radio",colorPickerSelector:".ColorPicker",colorPickerTransparentContainerSelector:".ColorPicker-transparent",currentColorSelector:".js-current-color",hiddenClass:"u-hiddenVisually",iconCheckClass:"Icon--check",iconDiscoverClass:"Icon--discover",iconSelector:".Icon",radioSelector:":radio",isFocusedClass:"is-focused"});var a={9:"Tab",37:"Left Arrow",38:"Up Arrow",39:"Right Arrow",40:"Down Arrow"},b="^#([0-9a-f]{3}|[0-9a-f]{6})$";this.addFocusClass=function(b,c){a.hasOwnProperty(b.which)&&$(c.el).addClass(this.attr.isFocusedClass)},this.removeFocusClass=function(b,c){(a.hasOwnProperty(b.which)||b.type=="focusout")&&$(c.el).removeClass(this.attr.isFocusedClass)},this.removeAndAddClassesToTargetIcon=function(a,b,c){a=typeof a=="string"?a:"",b=typeof b=="string"?b:"",c.find(this.attr.iconSelector).removeClass(a).addClass(b)},this.focusColorPicker=function(){this.$colorPickerHexInput.is(":visible")?this.$colorPickerHexInput.focus():this.select("colorPickerSelector").focus()},this.changeHexBoxColor=function(a){this.$colorPickerHexBox.css("border-color",a).css("background-color",a).attr("data-color",a),this.$colorPickerHexInput.css("border-color",a)},this.changeHexInput=function(a){a.charAt(0)=="#"&&(a=a.substring(1)),this.$colorPickerHexInput.val(a)},this.isHexCode=function(a){return a.match(b)},this.currentColor=function(){return this.select("currentColorSelector").attr("data-color").toLowerCase()},this.setColor=function(a){a=a.toLowerCase();if(!this.isHexCode(a))return;this.select("currentColorSelector").attr("value",a),this.trigger("uiColorPicked",{targetSelector:"#"+this.select("togglerSelector").attr("id"),hex:a}),this.isHexVisible?this.changeHexBoxColor(a):this.changeHexInput(a)},this.showHex=function(){this.select("colorPickerMoreBoxSelector").closest(this.attr.colorPickerTransparentContainerSelector).addClass(this.attr.hiddenClass).hide(),this.$colorPickerHexBox.removeClass(this.attr.hiddenClass).css("display","inline-block"),this.$colorPickerHexInput.val("").focus()},this.hideHex=function(){this.$colorPickerHexBox.addClass(this.attr.hiddenClass).hide(),this.select("colorPickerMoreBoxSelector").closest(this.attr.colorPickerTransparentContainerSelector).removeClass(this.attr.hiddenClass).css("display","inline-block");var a=this.$colorPickerHexBox.data("original-color");this.changeHexBoxColor(a),this.removeAndAddClassesToTargetIcon(null,this.attr.iconDiscoverClass,this.$colorPickerHexBox)},this.initColorPicker=function(){this.$colorPickerHexBox.hide(),this.$colorPickerHexInput.attr("placeholder",this.currentColor().substring(1)),this.$selectedBox&&this.removeAndAddClassesToTargetIcon(this.attr.iconCheckClass,null,this.$selectedBox);var a=this.currentColor(),b=this.$node.find(this.attr.colorPickerColorBoxSelector+"[data-color="+a+"]").first();b.length==0?(this.isHexVisible=!0,this.showHex(),a?(this.changeHexBoxColor(a),this.changeHexInput(a),this.$selectedBox=this.$colorPickerHexBox,this.removeAndAddClassesToTargetIcon(this.attr.iconDiscoverClass,this.attr.iconCheckClass,this.$selectedBox)):this.$selectedBox=this.select("colorPickerMoreBoxSelector")):(this.isHexVisible=!1,this.hideHex(),this.$selectedBox=b,this.removeAndAddClassesToTargetIcon(null,this.attr.iconCheckClass,this.$selectedBox),this.$selectedBox.find(this.attr.radioSelector).attr("checked",!0))},this.selectColorBox=function(a){var b=$(a.target).closest("[data-color]").attr("data-color").toLowerCase();this.isHexVisible?(this.isHexVisible=!1,this.setColor(b),this.hideHex()):this.setColor(b),this.removeAndAddClassesToTargetIcon(this.attr.iconCheckClass,null,this.$selectedBox),this.$selectedBox=$(a.target).closest(this.attr.colorPickerColorBoxSelector),this.removeAndAddClassesToTargetIcon(null,this.attr.iconCheckClass,this.$selectedBox)},this.selectMoreBox=function(){this.isHexVisible==0&&(this.showHex(),this.isHexVisible=!0,this.$selectedBox.find(this.attr.radioSelector).attr("checked",!0))},this.selectHexInput=function(a){var b="#"+$(a.target).val();this.setColor(b),this.$selectedBox.is(this.$colorPickerHexBox)==0&&this.isHexCode("#"+this.$colorPickerHexInput.val())&&(this.removeAndAddClassesToTargetIcon(this.attr.iconCheckClass,null,this.$selectedBox),this.$selectedBox=this.$colorPickerHexBox,this.removeAndAddClassesToTargetIcon(this.attr.iconDiscoverClass,this.attr.iconCheckClass,this.$selectedBox),this.select("colorPickerHexRadioSelector").attr("checked",!0))},this.renderColorPicker=function(){var a=template["highline/components/color_picker"].render(template);this.$node.append(a),this.$colorPickerHexBox=this.select("colorPickerHexBoxSelector"),this.$colorPickerHexInput=this.select("colorPickerHexInputSelector"),this.wasRendered=!0},this.addColorPicker=function(){this.wasRendered||this.renderColorPicker(),this.initColorPicker()},this.after("closeAndRestoreFocus",function(){this.select("togglerSelector").focus()}),this.after("initialize",function(){this.wasRendered=!1,this.on("uiDropdownOpened",utils.once(this.addColorPicker)),this.on("uiDropdownOpened",this.focusColorPicker),this.on(document,"uiEditProfileStart",this.addColorPicker),this.on("change",{colorPickerColorRadioSelector:this.selectColorBox}),this.on("click",{colorPickerMoreRadioSelector:this.selectMoreBox}),this.on("input",{colorPickerHexInputSelector:this.selectHexInput}),this.on("keyup",{colorPickerColorBoxSelector:this.addFocusClass,colorPickerMoreBoxSelector:this.addFocusClass}),this.on("keydown focusout",{colorPickerColorBoxSelector:this.removeFocusClass,colorPickerMoreBoxSelector:this.removeFocusClass})}),this.before("teardown",function(){this.select("colorPickerSelector").remove()})}var defineComponent=require("core/component"),template=require("template"),utils=require("core/utils"),withDropdown=require("app/ui/with_dropdown");module.exports=defineComponent(withDropdown,colorPicker)
});
define("app/ui/profile/inline_edit_user_color",["module","require","exports","core/component"],function(module, require, exports) {
function inlineEditUserColor(){this.setUserColor=function(a){this.trigger("uiOverrideUserCss",{color:a}),this.$node.attr("data-color",a)},this.saveOldColor=function(){this.oldColor=this.$node.attr("data-color")},this.setNewColor=function(a,b){this.$node.is(b.targetSelector)&&this.setUserColor(b.hex)},this.syncValue=function(){var a=this.$node.attr("data-color");this.oldColor!==a&&this.trigger("uiInlineEditSave",{newValue:a,field:this.$node.attr("name")})},this.resetOldColor=function(){this.oldColor&&this.setUserColor(this.oldColor)},this.hideColorPicker=function(){this.trigger("uiHideColorPicker")},this.after("initialize",function(){this.on(document,"uiEditProfileStart uiEditProfileSuccess",this.saveOldColor),this.on(document,"uiColorPicked uiColorPreview",this.setNewColor),this.on(document,"uiEditProfileSaveFields",this.syncValue),this.on(document,"uiEditProfileCancel uiBeforePageChanged",this.resetOldColor),this.on(document,"uiEditProfileSuccess uiEditProfileCancel uiBeforePageChanged",this.hideColorPicker)})}var defineComponent=require("core/component");module.exports=defineComponent(inlineEditUserColor)
});
define("app/utils/blend_hex_color",["module","require","exports"],function(module, require, exports) {
function hexColorToIntArray(a){if(!a)return null;var b=a.replace(THREE_GROUPS_OF_ONE_CHAR_REGEX,"$1$1$2$2$3$3");return b.match(SIX_HEX_DIGITS_REGEX)?b.match(GLOBAL_MATCH_TWO_CHARS_REGEX).map(function(a){return parseInt(a,16)}):null}function blendHexColor(a,b,c){var d=hexColorToIntArray(a),e=hexColorToIntArray(c),f=1-b;return d&&e&&d.map(function(a,c){var d=Math.floor(a*b+e[c]*f);return(d+256).toString(16).slice(1)}).join("")}var THREE_GROUPS_OF_ONE_CHAR_REGEX=/^(.)(.)(.)$/,SIX_HEX_DIGITS_REGEX=/^[0-9a-f]{6}$/i,GLOBAL_MATCH_TWO_CHARS_REGEX=/.{2}/g;module.exports=blendHexColor
});
define("app/ui/profile/override_user_css",["module","require","exports","core/component","template","app/utils/blend_hex_color"],function(module, require, exports) {
function overrideUserCss(){this.defaultAttrs({overrideUserCssSelector:"#user-style-me"}),this.override=function(a,b){var c=b.color.replace(LEADING_HASH_REGEX,""),d={style_namespace:"me",user_color_lightest:blendHexColor(c,.1,"fff"),user_color_lighter:blendHexColor(c,.25,"fff"),user_color_light:blendHexColor(c,.4,"fff"),user_color:c,user_color_dark:blendHexColor(c,.8,"000"),user_color_darker:blendHexColor(c,.6,"000"),profile_link_color:c,profile_pretty_link_color:blendHexColor(c,.4,"fff")},e=template.user_css_color.render(d);this.select("overrideUserCssSelector").remove(),$("head").append(e)},this.after("initialize",function(){this.on("uiOverrideUserCss",this.override)})}var defineComponent=require("core/component"),template=require("template"),blendHexColor=require("app/utils/blend_hex_color"),LEADING_HASH_REGEX=/^#/;module.exports=defineComponent(overrideUserCss)
});
define("app/ui/profile/profile_header_image_cropper_sync",["module","require","exports","core/component"],function(module, require, exports) {
function profileHeaderImageCropperSync(){this.defaultAttrs({dialogSelector:"#header_image_upload_dialog",headerSelector:".ProfileCanopy-header",aspectRatio:3}),this.setCropMetrics=function(){var a=this.select("headerSelector"),b=a.width(),c=a.height(),d=b/this.attr.aspectRatio;this.select("dialogSelector").trigger("uiSetCropMetrics",{zoneWidth:b,zoneHeight:c,width:b,height:d,top:(c-d)/2,left:0})},this.after("initialize",function(){this.on(document,"uiDialogOpened",this.setCropMetrics),this.on(window,"resize",this.setCropMetrics)})}var defineComponent=require("core/component");module.exports=defineComponent(profileHeaderImageCropperSync)
});
define("app/boot/highline_inline_edit",["module","require","exports","core/i18n","app/ui/profile/add_header_callout","app/ui/alert_banner_to_message_drawer","app/data/async_profile","app/ui/settings/change_photo","app/ui/color_picker","app/data/drag_and_drop_scribe","app/ui/droppable_image","app/utils/image","app/ui/image_uploader","app/ui/inline_edit","app/data/inline_edit_scribe","app/ui/profile/inline_edit_user_color","app/ui/inline_profile_editing","app/ui/inline_profile_editing_initializor","app/ui/profile/override_user_css","app/ui/dialogs/profile_confirm_image_delete_dialog","app/ui/profile_edit_param","app/ui/profile/profile_header_image_cropper_sync","app/ui/dialogs/profile_image_upload_dialog","app/data/settings/profile_image_upload_scribe","app/data/settings","app/data/user_info"],function(module, require, exports) {
var _=require("core/i18n"),AddHeaderCallout=require("app/ui/profile/add_header_callout"),AlertBannerToMessageDrawer=require("app/ui/alert_banner_to_message_drawer"),AsyncProfileData=require("app/data/async_profile"),ChangePhoto=require("app/ui/settings/change_photo"),ColorPicker=require("app/ui/color_picker"),DragAndDropScribe=require("app/data/drag_and_drop_scribe"),DroppableImage=require("app/ui/droppable_image"),image=require("app/utils/image"),ImageUploader=require("app/ui/image_uploader"),InlineEdit=require("app/ui/inline_edit"),InlineEditScribe=require("app/data/inline_edit_scribe"),InlineEditUserColor=require("app/ui/profile/inline_edit_user_color"),InlineProfileEditing=require("app/ui/inline_profile_editing"),InlineProfileEditingInitializor=require("app/ui/inline_profile_editing_initializor"),OverrideUserCss=require("app/ui/profile/override_user_css"),ProfileConfirmImageDeleteDialog=require("app/ui/dialogs/profile_confirm_image_delete_dialog"),ProfileEditParam=require("app/ui/profile_edit_param"),ProfileHeaderImageCropperSync=require("app/ui/profile/profile_header_image_cropper_sync"),ProfileImageUploadDialog=require("app/ui/dialogs/profile_image_upload_dialog"),ProfileImageUploadScribe=require("app/data/settings/profile_image_upload_scribe"),SettingsData=require("app/data/settings"),userInfo=require("app/data/user_info");module.exports=function(b){InlineProfileEditingInitializor.attachTo(".ProfilePage",{testForCssSelector:".ProfilePage-testForEditingCss:visible"},b),AddHeaderCallout.attachTo(".ProfileCanopy-addHeaderCallout");if(image.supportsCropper()||userInfo.getDecider("enableInlineEditingOnLegacyBrowsers")){AlertBannerToMessageDrawer.attachTo(document),AsyncProfileData.attachTo(document,b),SettingsData.attachTo(document,b),InlineProfileEditing.attachTo(".ProfilePage",b,{saveProfileFooterSelector:".ProfilePage-editingButtons",saveProfileButtonSelector:".ProfilePage-saveButton",cancelProfileButtonSelector:".ProfilePage-cancelButton",profileSavingClass:"is-saving",profileEditingClass:"is-editing",useProfileErrorDialog:!1,bioProfileFieldSelector:".ProfileHeaderCard-bio",urlProfileFieldSelector:".ProfileHeaderCard-urlText",avatarSelector:".ProfileAvatar-image,.ProfileAvatarEditing-image",avatarContainerSelector:".ProfileAvatar-container,.ProfileAvatarEditing-container",avatarPlaceholderSelector:".ProfileAvatar-placeholder,.ProfileAvatarEditing-placeholder",hiddenClass:"u-hidden",editAvatarSelector:".ProfileAvatarEditing-button",editHeaderSelector:".ProfileHeaderEditing-button",canToggleHeaderOptions:!0});var c={editableFieldSelector:".ProfileHeaderCardEditing-editableField",measuringFieldSelector:".ProfileHeaderCardEditing-measuringField"};InlineEdit.attachTo(".ProfileHeaderCardEditing-name",{globalProfileFieldSelector:".ProfileHeaderCard-nameLink, .ProfileCardMini .ProfileNameTruncated-link"},c),InlineEdit.attachTo(".ProfileHeaderCardEditing-bio",{globalProfileFieldSelector:".ProfileHeaderCard-bio",extraCharsForMeasuring:"WWW"},c),InlineEdit.attachTo(".ProfileHeaderCardEditing-location",{globalProfileFieldSelector:".ProfileHeaderCard-locationText",globalProfileFieldContainerSelector:".ProfileHeaderCard-location"},c),InlineEdit.attachTo(".ProfileHeaderCardEditing-url",{globalProfileFieldSelector:".ProfileHeaderCard-urlText",globalProfileFieldContainerSelector:".ProfileHeaderCard-url"},c),InlineEditUserColor.attachTo(".ProfileHeaderCardEditing-userColorButton"),ColorPicker.attachTo(".ProfileHeaderCardEditing-userColor"),OverrideUserCss.attachTo(document),InlineEditScribe.attachTo(document),ProfileImageUploadScribe.attachTo("#profile_image_upload_dialog"),ProfileImageUploadScribe.attachTo("#header_image_upload_dialog"),DragAndDropScribe.attachTo(document);var d={scribeContext:{page:b.pageName,section:b.sectionName,component:"profile_image_upload"}};ProfileConfirmImageDeleteDialog.attachTo("#avatar_confirm_remove_dialog",{uploadType:"avatar"}),ImageUploader.attachTo(".avatar-settings .uploader-image .photo-selector",{maxSizeInBytes:10485760,fileTooBigMessage:_('Please select a profile image that is less than 10 MB.'),uploadType:"avatar",eventData:d,formAuthenticityToken:b.formAuthenticityToken}),ProfileImageUploadDialog.attachTo("#profile_image_upload_dialog",{uploadType:"avatar",eventData:d,maximumWidth:b.maxAvatarUploadDimension,maximumHeight:b.maxAvatarUploadDimension,isAvatarWhenShowingAvatarOptions:!1,maxImageSize:716800}),ChangePhoto.attachTo("#choose-photo",{supportsAutoOpen:!1,uploadType:"avatar",alwaysOpen:!0,confirmDelete:!0,eventData:d,useHtml5Editor:userInfo.getDecider("useHtml5Webcam")}),DroppableImage.attachTo(".ProfileAvatarEditing-button",{uploadType:"avatar",eventData:d});var e={scribeContext:{page:b.pageName,section:b.sectionName,component:"header_image_upload"}};ProfileConfirmImageDeleteDialog.attachTo("#header_confirm_remove_dialog",{uploadType:"header"}),ImageUploader.attachTo(".header-settings .uploader-image .photo-selector",{fileNameString:"user[profile_header_image_name]",fileDataString:"user[profile_header_image]",fileInputString:"user[profile_header_image]",uploadType:"header",maxSizeInBytes:1024e4,fileTooBigMessage:_('Please select an image that is less than 10MB.'),onError:function(){window.scrollTo(0,0)},eventData:e,formAuthenticityToken:b.formAuthenticityToken}),ProfileImageUploadDialog.attachTo("#header_image_upload_dialog",{uploadType:"header",maskPadding:0,top:0,left:0,maximumWidth:1500,maximumHeight:500,imageNameSelector:"#choose-header div.photo-selector input.file-name",imageDataSelector:"#choose-header div.photo-selector input.file-data",eventData:e,modalEnabledClass:"",savingClass:"is-saving",isAvatarWhenShowingAvatarOptions:!1,cropMaskSelector:".ProfileHeaderUploadDialog-cropMask",cropZoneSelector:".ProfileHeaderUploadDialog-cropZone",cropImageSelector:".ProfileHeaderUploadDialog-cropImage",cropOverlaySelector:".ProfileHeaderUploadDialog-cropOverlay"}),ProfileHeaderImageCropperSync.attachTo(".ProfileCanopy"),ChangePhoto.attachTo("#choose-header",{defaultToFileInputOpen:!0,uploadType:"header",chooseExistingSelector:"#header-choose-existing",chooseWebcamSelector:"#header-choose-webcam",deleteImageSelector:"#header-delete-image",alwaysOpen:!0,confirmDelete:!0,eventData:e,useHtml5Editor:userInfo.getDecider("useHtml5Webcam")}),DroppableImage.attachTo(".ProfileHeaderEditing-button",{uploadType:"header",eventData:e})}ProfileEditParam.attachTo(".ProfilePage")}
});
define("app/ui/profile/profile_opt_in_banner",["module","require","exports","core/component","core/i18n","app/utils/cookie"],function(module, require, exports) {
function profileOptInBanner(){this.defaultAttrs({optInButtonSelector:".js-opt-in-button",optOutButtonSelector:".js-opt-out-button",hiddenClass:"u-hidden"}),this.showBanner=function(){this.$node.removeClass(this.attr.hiddenClass)},this.optIn=function(){this.trigger("uiProfileOptIn"),this.trigger("uiProfileOptInBannerOptInClick"),this.$optInButton.addClass("disabled")},this.optOut=function(a){a.preventDefault(),this.trigger("uiProfileOptInBannerOptOutClick"),cookie("in_bp",null),window.location.reload()},this.onOptInSuccess=function(){this.trigger("uiShowMessage",{message:_('Your new profile is live!')}),this.$node.remove()},this.onOptInError=function(){this.$optInButton.removeClass("disabled")},this.after("initialize",function(){this.$optInButton=this.select("optInButtonSelector"),this.on(document,"uiProfileHelpPromptsCompleted uiNoHelpPromptsToShow",this.showBanner),this.on(document,"dataProfileOptInSuccess",this.onOptInSuccess),this.on(document,"dataProfileOptInError",this.onOptInError),this.on("click",{optInButtonSelector:this.optIn,optOutButtonSelector:this.optOut})})}var defineComponent=require("core/component"),_=require("core/i18n"),cookie=require("app/utils/cookie");module.exports=defineComponent(profileOptInBanner)
});
define("app/ui/profile/help_prompts/profile_opt_in_help_prompts",["module","require","exports","core/component","app/utils/storage/core","app/utils/animate_window_scrolltop"],function(module, require, exports) {
function profileOptInHelpPrompts(){this.showNextPrompt=function(a){this.currentPromptId&&this.setPromptDismissed(this.currentPromptId),this.currentPromptId=this.promptIds.shift();if(this.currentPromptId===undefined){this.trigger("uiProfileHelpPromptsCompleted"),animateWinScrollTop(0);return}this.trigger(document,"uiShowProfileHelpPrompt",{promptId:this.currentPromptId,promptIndex:this.totalPrompts-this.promptIds.length,totalPrompts:this.totalPrompts})},this.setPromptDismissed=function(a){this.storage.setItem(a,!0)},this.isPromptUndismissed=function(a){return!this.storage.getItem(a)},this.after("initialize",function(a){this.storage=new Storage("profile_help_prompts"),this.totalPrompts=this.attr.promptIds.length,this.promptIds=this.attr.promptIds.filter(this.isPromptUndismissed.bind(this));if(this.promptIds.length==0){this.trigger("uiNoHelpPromptsToShow");return}this.on(document,"uiSwiftLoaded uiPageChanged uiProfileHelpPromptDismissed",this.showNextPrompt)})}var defineComponent=require("core/component"),Storage=require("app/utils/storage/core"),animateWinScrollTop=require("app/utils/animate_window_scrolltop");module.exports=defineComponent(profileOptInHelpPrompts)
});
define("app/ui/profile/help_prompts/profile_help_prompt",["module","require","exports","core/compose","template","app/utils/viewport_helpers","app/utils/animate_window_scrolltop"],function(module, require, exports) {
var compose=require("core/compose"),template=require("template"),viewportHelpers=require("app/utils/viewport_helpers"),animateWinScrollTop=require("app/utils/animate_window_scrolltop");module.exports=function(){this.defaultAttrs({promptSelector:".js-prompt",dismissPromptSelector:".js-dismiss-prompt,.js-next-prompt",scrollIntoViewTopPadding:50,promptId:undefined,promptHeader:undefined,promptBody:undefined,promptHint:undefined,promptClasses:undefined}),this.showPrompt=function(a,b){if(b.promptId!=this.attr.promptId)return;this.$node.prepend(template.profile_help_prompt.render({header:this.attr.promptHeader,body:this.attr.promptBody,hint:this.attr.promptHint,prompt_class:this.attr.promptClasses.join(" "),prompt_index:b.promptIndex,total_prompts:b.totalPrompts,last_prompt:b.promptIndex===b.totalPrompts},template)),this.scrollIntoView(),this.trigger("uiProfileHelpPromptOpened",{promptId:this.attr.promptId})},this.dismissPrompt=function(a){var b=$(a.target).closest(this.attr.promptSelector);b.fadeOut(function(){b.remove(),this.trigger("uiProfileHelpPromptDismissed",{promptId:this.attr.promptId})}.bind(this))},this.hidePrompt=function(){this.select("promptSelector").hide()},this.scrollIntoView=function(){if(viewportHelpers.isWithinBounds(this.$window,this.$node))return;animateWinScrollTop(this.$node.offset().top-this.attr.scrollIntoViewTopPadding)},this.missingRequiredAttr=function(){return this.attr.promptId===undefined||this.attr.promptHeader===undefined||this.attr.promptBody===undefined},this.after("initialize",function(a){this.$window=$(window);if(this.missingRequiredAttr())throw Exception("Must specify promptId, promptHeader and promptBody attrs");this.on(document,"uiShowProfileHelpPrompt",this.showPrompt),this.on(document,"uiBeforePageChanged",this.hidePrompt),this.on("click",{dismissPromptSelector:this.dismissPrompt})})}
});
define("app/ui/profile/help_prompts/profile_add_avatar_help_prompt",["module","require","exports","core/component","app/ui/profile/help_prompts/profile_help_prompt","core/i18n"],function(module, require, exports) {
function profileAddAvatarHelpPrompt(){this.defaultAttrs({promptId:"add_avatar",promptHeader:_('Show your best side.'),promptBody:_('Upload a profile photo and it\'s automatically resized to fit.'),promptHint:_('Recommended size: 400x400 pixels.'),promptClasses:["ProfileHelpPrompt--addAvatar","ProfileHelpPrompt--onRight"]})}var defineComponent=require("core/component"),profileHelpPrompt=require("app/ui/profile/help_prompts/profile_help_prompt"),_=require("core/i18n");module.exports=defineComponent(profileHelpPrompt,profileAddAvatarHelpPrompt)
});
define("app/ui/profile/help_prompts/profile_add_header_help_prompt",["module","require","exports","core/component","app/ui/profile/help_prompts/profile_help_prompt","core/i18n"],function(module, require, exports) {
function profileAddHeaderHelpPrompt(){this.defaultAttrs({promptId:"add_header",promptHeader:_('Do some redecorating.'),promptBody:_('Choose your own image to create a bigger, more beautiful profile header.'),promptHint:_('Recommended size: 1500x500 pixels.'),promptClasses:["ProfileHelpPrompt--addHeader","ProfileHelpPrompt--onRight"]})}var defineComponent=require("core/component"),profileHelpPrompt=require("app/ui/profile/help_prompts/profile_help_prompt"),_=require("core/i18n");module.exports=defineComponent(profileHelpPrompt,profileAddHeaderHelpPrompt)
});
define("app/ui/profile/help_prompts/profile_pin_tweet_help_prompt",["module","require","exports","core/component","app/ui/profile/help_prompts/profile_help_prompt","core/i18n"],function(module, require, exports) {
function profilePinTweetHelpPrompt(){this.defaultAttrs({promptId:"pin_tweet",promptHeader:_('Make yourself heard.'),promptBody:_('Pin one of your Tweets to the top of your profile page for everyone to see.'),promptClasses:["ProfileHelpPrompt--pinTweet","ProfileHelpPrompt--onLeft"],moreTweetActionsButtonSelector:".js-more-tweet-actions .js-dropdown-toggle",pinButtonSelector:".js-actionPinTweet button"}),this.highlightPinButton=function(){setTimeout(function(){this.$moreTweetActionsButton.click(),this.$pinButton.addClass("selected")}.bind(this),0)},this.unHighlightPinButton=function(){this.$moreTweetActionsButton.click(),this.$pinButton.removeClass("selected")},this.after("initialize",function(){this.$moreTweetActionsButton=this.select("moreTweetActionsButtonSelector"),this.$pinButton=this.select("pinButtonSelector"),this.on("uiProfileHelpPromptOpened",this.highlightPinButton),this.on("uiProfileHelpPromptDismissed",this.unHighlightPinButton)})}var defineComponent=require("core/component"),profileHelpPrompt=require("app/ui/profile/help_prompts/profile_help_prompt"),_=require("core/i18n");module.exports=defineComponent(profileHelpPrompt,profilePinTweetHelpPrompt)
});
define("app/data/profile_opt_in",["module","require","exports","core/component","app/data/with_data"],function(module, require, exports) {
function profileOptInData(){this.defaultAttrs({triggerProfileOptIn:!1}),this.optIn=function(a,b){function c(a){this.trigger("dataProfileOptInSuccess")}function d(a){this.trigger("dataProfileOptInError")}this.post({url:"/i/profiles/opt_in",success:c.bind(this),error:d.bind(this)})},this.after("initialize",function(){this.on("uiProfileOptIn",this.optIn),this.attr.triggerProfileOptIn&&this.optIn()})}var defineComponent=require("core/component"),withData=require("app/data/with_data");module.exports=defineComponent(profileOptInData,withData)
});
define("app/data/profile_opt_in_scribe",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function ProfileOptInScribe(){this.after("initialize",function(){this.scribeOnEvent("uiProfileOptinDialogImpression",{component:"profile_opt_in_dialog",action:"impression"}),this.scribeOnEvent("uiProfileOptInBannerOptInClick",{component:"profile_opt_in_banner",element:"opt_in_button",action:"click"}),this.scribeOnEvent("uiProfileOptInBannerOptOutClick",{component:"profile_opt_in_banner",element:"opt_out_button",action:"click"}),this.scribeOnEvent("dataProfileOptInSuccess",{component:"profile_opt_in",action:"success"}),this.scribeOnEvent("dataProfileOptInError",{component:"profile_opt_in",action:"failure"})})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(ProfileOptInScribe,withScribe)
});
define("app/data/profile_opt_in_help_prompts_scribe",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function profileOptInHelpPromptsScribe(){this.scribePromptOpened=function(a,b){this.scribe({component:"profile_help_prompts",element:b.promptId,action:"open"})},this.scribePromptDismissed=function(a,b){this.scribe({component:"profile_help_prompts",element:b.promptId,action:"dismiss"})},this.after("initialize",function(){this.on("uiProfileHelpPromptOpened",this.scribePromptOpened),this.on("uiProfileHelpPromptDismissed",this.scribePromptDismissed),this.scribeOnEvent("uiProfileHelpPromptsCompleted",{component:"profile_help_prompts",action:"complete"})})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(withScribe,profileOptInHelpPromptsScribe)
});
define("app/boot/profile_opt_in",["module","require","exports","app/ui/profile/profile_opt_in_banner","app/ui/profile/help_prompts/profile_opt_in_help_prompts","app/ui/profile/help_prompts/profile_add_avatar_help_prompt","app/ui/profile/help_prompts/profile_add_header_help_prompt","app/ui/profile/help_prompts/profile_pin_tweet_help_prompt","app/data/profile_opt_in","app/data/profile_opt_in_scribe","app/data/profile_opt_in_help_prompts_scribe"],function(module, require, exports) {
var ProfileOptInBanner=require("app/ui/profile/profile_opt_in_banner"),ProfileOptInHelpPrompts=require("app/ui/profile/help_prompts/profile_opt_in_help_prompts"),ProfileAddAvatarHelpPrompt=require("app/ui/profile/help_prompts/profile_add_avatar_help_prompt"),ProfileAddHeaderHelpPrompt=require("app/ui/profile/help_prompts/profile_add_header_help_prompt"),ProfilePinTweetHelpPrompt=require("app/ui/profile/help_prompts/profile_pin_tweet_help_prompt"),ProfileOptInData=require("app/data/profile_opt_in"),ProfileOptInScribe=require("app/data/profile_opt_in_scribe"),ProfileOptInHelpPromptsScribe=require("app/data/profile_opt_in_help_prompts_scribe");module.exports=function(b){ProfileOptInScribe.attachTo(document),ProfileOptInData.attachTo(document,{triggerProfileOptIn:b.triggerProfileOptIn&&!b.fromCache});if(b.showProfileOptInPreview){ProfileOptInBanner.attachTo(".ProfileOptInBanner");var c=["add_avatar","add_header"],d=$(".js-tweet:not(.is-pinned):not(.is-retweeted)[data-user-id='"+b.userId+"']:first").parent();d.length>0&&!d.hasClass("ProfilePrefilledTweet")&&c.push("pin_tweet"),ProfileAddAvatarHelpPrompt.attachTo(".ProfileAvatar"),ProfileAddHeaderHelpPrompt.attachTo(".ProfileCanopy-headerPromptAnchor"),ProfilePinTweetHelpPrompt.attachTo(d),ProfileOptInHelpPrompts.attachTo(".ProfilePage",{promptIds:c}),ProfileOptInHelpPromptsScribe.attachTo(document)}}
});
define("app/ui/profile/follower_requests_reminder",["module","require","exports","core/component","app/utils/storage/with_expiry"],function(module, require, exports) {
function followerRequestsReminder(){this.namespace="follower_requests_reminder",this.storageKey="until",this.possiblyShowMessage=function(){this.isExpired(this.storageKey)&&(this.showMessage(),this.clear(),this.updateComponentTTL())},this.showMessage=function(){this.trigger("uiShowStickyMessage",{message:this.attr.followerRequestsReminderMessage})},this.updateComponentTTL=function(){var a=1e4,b=864e5;this.attr.environment=="selenium"?this.updateTTL(this.storageKey,a):this.updateTTL(this.storageKey,b)},this.after("initialize",function(){this.on(document,"uiSwiftLoaded uiPageChanged",this.possiblyShowMessage)})}var defineComponent=require("core/component"),withExpiry=require("app/utils/storage/with_expiry");module.exports=defineComponent(followerRequestsReminder,withExpiry)
});
define("app/ui/profile/highline_canopy",["module","require","exports","core/component","core/utils","app/utils/animate_window_scrolltop"],function(module, require, exports) {
function profileCanopy(){var a=$(window);this.defaultAttrs({disableScrollThreshold:!0,scrollDebounceInterval:0,resizeDebounceInterval:5,transitionDuration:300,finalHeaderHeight:20,originalHeaderImagePosition:50,finalHeaderImagePosition:0,parallaxRatio:.5,enabledCanopyViewportThreshold:720,lockedStateClass:"is-locked",defaultStateClass:"is-default",profileHeaderClass:"ProfileCanopy-header",globalNavSelector:".global-nav",profileHeaderSelector:".ProfileCanopy-header",profileHeaderBgImageSelector:".ProfileCanopy-headerBg img",profileHeaderAvatarSelector:".ProfileCanopy-avatar",profileCardMiniSelector:".ProfileCanopy-card",largeCanopyClass:"ProfileCanopy--large"}),this.scrollRatioForHeader=function(a){return this.canopyLockPosition>0?this.scrollPos/this.canopyLockPosition:1},this.absoluteTransitionThreshold=function(){return this.globalNavHeight+this.profileHeaderHeight},this.withinAbsoluteTransitionThreshold=function(){return this.scrollPos<this.absoluteTransitionThreshold()},this.pastCanopyLockThreshold=function(){return this.scrollPos>=this.canopyLockPosition},this.determineScrollToTop=function(a){this.$node.hasClass(this.attr.lockedStateClass)&&animateWinScrollTop(0,this.attr.transitionDuration)},this.profileCanopyIsLocked=function(){return this.$node.hasClass(this.attr.lockedStateClass)},this.lockProfileCanopy=function(){this.removeAccessibilityOfProfileHeaderAvatar(),this.$node.addClass(this.attr.lockedStateClass),this.lockHeaderParallax()},this.unlockProfileCanopy=function(){this.removeAccessibilityOfMiniProfileCard(),this.$node.removeClass(this.attr.lockedStateClass),this.parallaxTick()},this.removeAccessibilityOfProfileHeaderAvatar=function(){this.removeAccessibility(this.$profileHeaderAvatar),this.reinstateAccessibility(this.$profileCardMini)},this.removeAccessibilityOfMiniProfileCard=function(){this.removeAccessibility(this.$profileCardMini),this.reinstateAccessibility(this.$profileHeaderAvatar)},this.lockHeaderParallax=function(){var a=this.calculateShiftAmount();this.$profileHeaderBgImage.css({transform:"translate3d(0px, "+a+"px, 0)"}),this.$profileHeader.css({"margin-top":this.globalNavHeight-this.canopyLockPosition})},this.parallaxTick=function(){this.parallaxTick.ticking||(this.parallaxTick.ticking=!0,requestAnimationFrame(function(){this.shiftHeaderParallax(),this.parallaxTick.ticking=!1}.bind(this)))},this.calculateShiftAmount=function(){return(this.backgroundImageHeight-this.profileHeaderHeight)*this.attr.parallaxRatio},this.shiftHeaderParallax=function(){this.$profileHeader.css({"margin-top":0});var a=this.scrollRatioForHeader(),b=this.calculateShiftAmount()*a,c;b>0?c={transform:"translate3d(0px, "+b+"px, 0)"}:c={transform:"none"},this.$profileHeaderBgImage.css(c)},this.determineTransition=function(a){this.scrollPos=a,this.enabled&&this.pastCanopyLockThreshold()?this.lockProfileCanopy():this.unlockProfileCanopy()},this.determineCanopyScrollBehavior=function(){this.isEditingProfile||a.height()<this.attr.enabledCanopyViewportThreshold?this.enabled=!1:this.enabled=!0,this.updateCanopyValuesForReflow()},this.profileEditingOn=function(){this.isEditingProfile=!0,this.determineCanopyScrollBehavior()},this.profileEditingOff=function(){this.isEditingProfile=!1,this.determineCanopyScrollBehavior()},this.setResponsiveVariableValues=function(){this.profileHeaderHeight=this.$profileHeader.height(),this.canopyLockPosition=this.profileHeaderHeight-this.attr.finalHeaderHeight},this.updateCanopyValuesForReflow=function(a,b){this.setResponsiveVariableValues(),this.reflowCanopy()},this.reflowCanopy=function(){this.trigger("reflowCanopy",{scrollPos:a.scrollTop()})},this.showLargeCanopy=function(){this.$node.addClass(this.attr.largeCanopyClass)},this.showSmallCanopy=function(){this.$node.removeClass(this.attr.largeCanopyClass)},this.removeAccessibility=function(a){a.attr("aria-hidden",!0).find("a").attr("tabindex","-1")},this.reinstateAccessibility=function(a){a.removeAttr("aria-hidden").find("a").removeAttr("tabindex")},this.after("initialize",function(){this.isEditingProfile=!1,this.scrollPos=0,this.$body=$("body"),this.$window=$(window),this.$profileHeader=this.select("profileHeaderSelector"),this.$profileHeaderBgImage=this.select("profileHeaderBgImageSelector"),this.$profileHeaderAvatar=this.select("profileHeaderAvatarSelector"),this.$profileCardMini=this.select("profileCardMiniSelector"),this.globalNavHeight=$(this.attr.globalNavSelector).height(),this.backgroundImageHeight=this.$profileHeaderBgImage.height(),this.on(this.$profileHeaderBgImage,"load",function(){this.backgroundImageHeight=this.$profileHeaderBgImage.height()}.bind(this)),this.on(window,"scroll",utils.throttle(function(){this.reflowCanopy()}.bind(this),this.attr.scrollDebounceInterval)),this.on(window,"resize",utils.throttle(function(){this.determineCanopyScrollBehavior()}.bind(this),this.attr.resizeDebounceInterval)),this.on("reflowCanopy",function(a,b){this.determineTransition(b.scrollPos)}),this.on("click",{profileHeaderSelector:this.determineScrollToTop}),this.on(document,"uiProfileEditingOn",this.profileEditingOn),this.on(document,"uiProfileEditingOff",this.profileEditingOff),this.on(document,"uiShowLargeCanopy",this.showLargeCanopy),this.on(document,"uiShowSmallCanopy",this.showSmallCanopy),this.on(document,"uiSwiftLoaded uiPageChanged viewport-update",this.determineCanopyScrollBehavior)})}var defineComponent=require("core/component"),utils=require("core/utils"),animateWinScrollTop=require("app/utils/animate_window_scrolltop");module.exports=defineComponent(profileCanopy)
});
define("app/ui/profile/profile_content_warning",["module","require","exports","core/component"],function(module, require, exports) {
function profileContentWarning(){this.defaultAttrs({warningClass:"show-warning",profileViewTweetsButtonSelector:".BlockedWarningTimeline-button"}),this.showTweets=function(){this.$node.removeClass(this.attr.warningClass)},this.hideTweets=function(){this.$node.addClass(this.attr.warningClass)},this.after("initialize",function(){this.on("click",{profileViewTweetsButtonSelector:this.showTweets}),this.on(document,"uiShowProfileTweets",this.showTweets),this.on(document,"uiHideProfileTweets",this.hideTweets)})}var defineComponent=require("core/component");module.exports=defineComponent(profileContentWarning)
});
define("app/ui/dm_button",["module","require","exports","core/component","app/data/with_scribe","app/utils/user_dom_data"],function(module, require, exports) {
function DMButton(){this.openDMDialog=function(){this.scribe({element:"dm_button",action:"click"},this.attr.eventData),this.trigger("uiNeedsDMDialog",this.dmDialogData())},this.dmDialogData=function(){return{id:userDomDataUtil.getId(this.$node),screen_name:userDomDataUtil.getScreenName(this.$node),name:userDomDataUtil.getName(this.$node)}},this.after("initialize",function(){this.on("click",this.openDMDialog)})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe"),userDomDataUtil=require("app/utils/user_dom_data");module.exports=defineComponent(DMButton,withScribe)
});
define("app/ui/profile/highline_profile_stats",["module","require","exports","core/component"],function(module, require, exports) {
function profileStats(){this.defaultAttrs({tweetStatTitleSelector:".ProfileNav-item--tweets .ProfileNav-stat--link",tweetStatSelector:".ProfileNav-item--tweets .ProfileNav-value",mediaStatTitleSelector:".ProfileNav-item--media .ProfileNav-stat--link",mediaStatSelector:".ProfileNav-item--media .ProfileNav-value",followingStatTitleSelector:".ProfileNav-item--following .ProfileNav-stat--link",followingStatSelector:".ProfileNav-item--following .ProfileNav-value",followerStatTitleSelector:".ProfileNav-item--followers .ProfileNav-stat--link",followerStatSelector:".ProfileNav-item--followers .ProfileNav-value",favoriteStatTitleSelector:".ProfileNav-item--favorites .ProfileNav-stat--link",favoriteStatSelector:".ProfileNav-item--favorites .ProfileNav-value"}),this.updateProfileStats=function(a,b){b.stats&&b.stats.forEach(function(a){if(this.$node.attr("data-user-id")==a.user_id){var b=this.select(a.stat+"StatSelector"),c=this.select(a.stat+"StatTitleSelector");b.data("is-compact")!=1&&b.html(a.highline_stat_value),c.tooltip("setTitle",a.highline_stat_phrase)}}.bind(this))},this.after("initialize",function(){this.on(document,"dataGotProfileStats",this.updateProfileStats)})}var defineComponent=require("core/component");module.exports=defineComponent(profileStats)
});
define("app/ui/profile/responsive_nav",["module","require","exports","core/component","core/utils"],function(module, require, exports) {
function responsiveNav(){this.defaultAttrs({itemSelector:".ProfileNav-item",moreMenuNavItemSelector:".ProfileNav-item--more",persistentMoreMenuItemSelector:".ProfileNav-dropdownItem.js-persistent",resizeDebounceInterval:10,persistentMoreMenu:!1,moreMenuItemMinimum:2}),this.createNavItems=function(){this.hiddenNavItems=[],this.navItems=[],this.movableItems=[];var a=this.select("persistentMoreMenuItemSelector").length;this.attr.moreMenuItemMinimum-=a,this.attr.moreMenuItemMinimum<0&&(this.attr.moreMenuItemMinimum=0),this.navItems=this.select("itemSelector").get().reverse().map(function(a){var b=$(a),c=new NavItem(b,this);return b.is(this.attr.moreMenuNavItemSelector)&&(this.moreMenuNavItem=c),c.moreItem&&this.movableItems.push(c),c.moreItem&&!c.visible&&this.hiddenNavItems.push(c),c}.bind(this))},this.adaptNav=function(){var a=parseInt(this.$node.css("width"),10),b=this.getWidthOfVisibleNavItems();a<b?this.hideSomeNavItems(a,b):a>b&&this.showSomeNavItems(a,b)},this.getWidthOfVisibleNavItems=function(){return this.navItems.reduce(function(a,b){return b.visible?a+b.width:a},0)},this.hideSomeNavItems=function(a,b){var c=b+(this.moreMenuNavItem.visible?0:this.moreMenuNavItem.width);this.movableItems.forEach(function(b){b.visible&&(this.hiddenNavItems.length<this.attr.moreMenuItemMinimum||c>a)&&(b.hide(),c-=b.width)}.bind(this)),this.moreMenuNavItem.show()},this.showSomeNavItems=function(a,b){var c=b-this.moreMenuNavItem.width,d=[];for(var e=this.hiddenNavItems.length-1;e>=0;e--){var f=this.hiddenNavItems[e];if(!(f.width+c<=a))break;d.push(f),c+=f.width}if(!this.attr.persistentMoreMenu&&this.hiddenNavItems.length==d.length)d.forEach(function(a){a.show()}.bind(this)),this.moreMenuNavItem.hide();else{var g=b;for(var e=0;e<d.length&&this.hiddenNavItems.length>this.attr.moreMenuItemMinimum;e++){var f=d[e];if(!(f.width+g<=a))break;f.show(),g+=f.width}}},this.after("initialize",function(){this.on(window,"resize",utils.debounce(this.adaptNav.bind(this),this.attr.resizeDebounceInterval)),this.createNavItems(),this.adaptNav()})}function NavItem(a,b){this.$item=a,this.nav=b,this.width=a.outerWidth(!0),this.visible=a.is(":visible"),this.moreItem=this.getMoreItem()}var defineComponent=require("core/component"),utils=require("core/utils");module.exports=defineComponent(responsiveNav),NavItem.prototype.show=function(){this.moreItem&&!this.visible&&(this.moreItem.hide(),this.nav.hiddenNavItems.pop()),this.$item.removeClass("is-hidden"),this.visible=!0},NavItem.prototype.hide=function(){this.moreItem&&this.visible&&(this.moreItem.show(),this.nav.hiddenNavItems.push(this)),this.$item.addClass("is-hidden"),this.visible=!1},NavItem.prototype.getMoreItem=function(){if(!this.nav)return;var a=this.nav.$node.find(this.$item.data("more-item"));if(a.length)return new NavItem(a)}
});
define("app/ui/profile/sidebar_arrangement",["module","require","exports","core/component","core/utils"],function(module, require, exports) {
function sidebarArrangement(){this.defaultAttrs({resizeDebounceInterval:10,minimumContentsWidth:1236,leftProfileSidebarSelector:".ProfileSidebar--withLeftAlignment",rightProfileSidebarSelector:".ProfileSidebar--withRightAlignment",moveableModuleSelector:".MoveableModule"}),this.withinMinimumContentWidth=function(a){return a<this.attr.minimumContentsWidth},this.determineSidebarArrangement=function(a){var b=this.select("leftProfileSidebarSelector"),c=this.select("rightProfileSidebarSelector"),d=this.select("moveableModuleSelector");if(c.length){var e=this.withinMinimumContentWidth(a)?b:c;e.append(d)}},this.after("initialize",function(){this.on(document,"uiDetermineSidebarArrangement",function(a,b){this.determineSidebarArrangement(b.windowWidth)}),this.on(window,"resize",utils.debounce(function(){this.trigger("uiDetermineSidebarArrangement",{windowWidth:$(window).width()})}.bind(this),this.attr.resizeDebounceInterval)),this.trigger("uiDetermineSidebarArrangement",{windowWidth:$(window).width()})})}var defineComponent=require("core/component"),utils=require("core/utils");module.exports=defineComponent(sidebarArrangement)
});
define("app/ui/profile/sidebar_tweetbox",["module","require","exports","core/component","core/utils","app/ui/with_tweetbox_initialization"],function(module, require, exports) {
function sidebarTweetbox(){this.defaultAttrs({hasDefaultText:!0,condensedTextAttr:"data-condensed-text",userScreenNameAttr:"data-screen-name",tweetBoxSelector:".tweet-box",tweetButtonSelector:".tweet-action"}),this.getUserScreenName=function(){return this.$node.attr(this.attr.userScreenNameAttr)||""},this.getDefaultText=function(){return this.attr.hasDefaultText?"@"+this.getUserScreenName()+" ":""},this.getCondensedText=function(){return this.$node.attr(this.attr.condensedTextAttr)},this.removeTextUserColor=function(){this.select("tweetBoxSelector").removeClass("u-textUserColor")},this.addTextUserColor=function(){this.select("tweetBoxSelector").addClass("u-textUserColor")},this.disableTweetAction=function(){this.select("tweetButtonSelector").removeClass("u-bgUserColor u-bgUserColorHover u-borderUserColor")},this.enableTweetAction=function(){this.select("tweetButtonSelector").addClass("u-bgUserColor u-bgUserColorHover u-borderUserColor")},this.after("initialize",function(){this.on(this.$node,"uiTweetBoxExpanded",this.removeTextUserColor),this.on(this.$node,"uiTweetBoxCondensed",this.addTextUserColor),this.on(this.$node,"uiDisableTweetAction",this.disableTweetAction),this.on(this.$node,"uiEnableTweetAction",this.enableTweetAction),this.initTweetbox({condensedText:this.getCondensedText(),defaultText:this.getDefaultText()})})}var defineComponent=require("core/component"),utils=require("core/utils"),withTweetboxInitialization=require("app/ui/with_tweetbox_initialization");module.exports=defineComponent(withTweetboxInitialization,sidebarTweetbox)
});
define("bower_components/flight-viewport/lib/viewport",["module","require","exports","../../flight/lib/utils","../../flight/lib/component"],function(module, require, exports) {
function viewport(){var a="min-width",b="max-width",c="viewport-resize";this.defaultAttrs({breakpoints:[],debounceWait:100,debounceImmediate:!1}),this.onResize=function(_,a){var b=this.findBreakpointFor(a);this.hasChanged(b)&&(this.breakpoint=b,this.trigger("viewport-update",b))},this.hasChanged=function(c){return c[a]!==this.breakpoint[a]||c[b]!==this.breakpoint[b]},this.findBreakpointFor=function(c){var d=this.attr.breakpoints.filter(function(d){var e=d[a]?c.width>=d[a]:!0,f=d[b]?c.width<=d[b]:!0;return e&&f});return d[0]},this.viewport=function(){return{width:this.$window.width()}},this.after("initialize",function(){this.breakpoint={},this.$window=$(window),this.on(c,this.onResize),this.on(window,"resize",utils.debounce(function(){this.trigger(c,this.viewport())}.bind(this),this.attr.debounceWait,this.attr.debounceImmediate)),this.trigger(c,this.viewport())})}var utils=require("../../flight/lib/utils"),defineComponent=require("../../flight/lib/component");module.exports=defineComponent(viewport)
});
define("app/boot/highline_profile",["module","require","exports","app/boot/app","app/boot/highline_inline_edit","app/boot/logged_out","app/boot/trends","app/boot/wtf_module","app/boot/profile_opt_in","app/data/client_event","app/data/profile_info","app/data/profile_edit_btn_scribe","app/data/profile_head_scribe","app/data/suggested_users","app/ui/media/card_thumbnails","app/ui/dropdown_toggle","app/ui/profile/follower_requests_reminder","app/data/media_timeline","app/data/media_thumbnails_scribe","app/ui/navigation_links","app/ui/profile/highline_canopy","app/ui/profile/profile_content_warning","app/ui/profile/head","app/ui/new_tweet_button","app/ui/dm_button","app/ui/profile/auto_signup_dialog","app/ui/profile/social_proof","app/data/profile_social_proof_scribe","app/ui/profile/highline_profile_stats","app/ui/profile/responsive_nav","app/ui/profile/sidebar_arrangement","app/ui/profile/sidebar_tweetbox","app/ui/suggested_users","bower_components/flight-viewport/lib/viewport","app/ui/profile/alcohol_brand_follower_notification","app/data/user_info","core/i18n","app/ui/multiline_ellipses","core/utils"],function(module, require, exports) {
var bootApp=require("app/boot/app"),inlineEditBoot=require("app/boot/highline_inline_edit"),loggedOutBoot=require("app/boot/logged_out"),trendsBoot=require("app/boot/trends"),whoToFollowBoot=require("app/boot/wtf_module"),optInBoot=require("app/boot/profile_opt_in"),clientEvent=require("app/data/client_event"),profileInfo=require("app/data/profile_info"),ProfileEditBtnScribe=require("app/data/profile_edit_btn_scribe"),ProfileHeadScribe=require("app/data/profile_head_scribe"),SuggestedUsersData=require("app/data/suggested_users"),CardThumbnails=require("app/ui/media/card_thumbnails"),DropdownToggle=require("app/ui/dropdown_toggle"),FollowerRequestsReminder=require("app/ui/profile/follower_requests_reminder"),MediaTimeline=require("app/data/media_timeline"),MediaThumbnailsScribe=require("app/data/media_thumbnails_scribe"),NavigationLinks=require("app/ui/navigation_links"),ProfileCanopy=require("app/ui/profile/highline_canopy"),ProfileContentWarning=require("app/ui/profile/profile_content_warning"),ProfileHead=require("app/ui/profile/head"),NewTweetButton=require("app/ui/new_tweet_button"),DMButton=require("app/ui/dm_button"),AutoSignupDialog=require("app/ui/profile/auto_signup_dialog"),ProfileSocialProof=require("app/ui/profile/social_proof"),ProfileSocialProofScribe=require("app/data/profile_social_proof_scribe"),ProfileStats=require("app/ui/profile/highline_profile_stats"),ResponsiveNav=require("app/ui/profile/responsive_nav"),SidebarArrangement=require("app/ui/profile/sidebar_arrangement"),SidebarTweetbox=require("app/ui/profile/sidebar_tweetbox"),SuggestedUsers=require("app/ui/suggested_users"),Viewport=require("bower_components/flight-viewport/lib/viewport"),AlcoholBrandFollowerNotification=require("app/ui/profile/alcohol_brand_follower_notification"),userInfo=require("app/data/user_info"),_=require("core/i18n"),MultilineEllipses=require("app/ui/multiline_ellipses"),utils=require("core/utils");module.exports=function(b){bootApp(utils.merge(b,{promoCTASelector:".StreamItem .leadgen-card-forward .promotion-cta"})),profileInfo.set(b),loggedOutBoot(b),whoToFollowBoot(".ProfileSidebar .WhoToFollow",b,{wtfOptions:b.wtfOptions,dashboardSelector:".WhoToFollow-users",successClass:"is-visible",disableProfilePopup:!0}),trendsBoot({loggedIn:b.loggedIn,typeaheadData:b.typeaheadData,decider_personalized_trends:b.decider_personalized_trends,trendsCacheKey:b.trendsCacheKey}),optInBoot({fromCache:b.fromCache,showProfileOptInPreview:b.showProfileOptInPreview,triggerProfileOptIn:b.triggerProfileOptIn,userId:b.userId}),SidebarArrangement.attachTo(".ProfilePage"),b.inlineProfileEditing&&inlineEditBoot(b),MultilineEllipses.attachTo(document),clientEvent.scribeData.profile_id=b.profile_id;var c=".ProfileCanopy";Viewport.attachTo(document,{debounceWait:0,breakpoints:[{"max-width":864},{"min-width":865,"max-width":1200},{"min-width":1201,"max-width":1500},{"min-width":1501,"max-width":1730},{"min-width":1731,"max-width":1930},{"min-width":1931}]}),ProfileCanopy.attachTo(c,b),ProfileContentWarning.attachTo(".profile-content-control"),ProfileStats.attachTo(".ProfileNav"),ResponsiveNav.attachTo(".ProfileNav",{persistentMoreMenu:!userInfo.getDecider("bellbirdNavigationReorg"),moreMenuItemMinimum:userInfo.getDecider("bellbirdNavigationReorg")?2:1}),NavigationLinks.attachTo(".ProfileNav",{eventData:{scribeContext:{component:"dashboard_nav"}}}),DropdownToggle.attachTo(".ProfileNav-item--more");var d={scribeContext:{component:"profile_follow_card"}},e=".ProfileCanopy-avatar";ProfileHead.attachTo(e,b,d,{nonEmptyAvatarSelector:".ProfileAvatar-container",emptyAvatarSelector:".ProfileAvatar-placeholder"}),ProfileHeadScribe.attachTo(e);var f=".ProfileNav-item--userActions";ProfileHead.attachTo(f,b,d,{editProfileButtonInlineSelector:b.inlineProfileEditing?".UserActions-editButton":""}),ProfileHeadScribe.attachTo(f);var g=".ProfileHeaderCard";ProfileHead.attachTo(g,b,d,{fullNameSelector:".ProfileHeaderCard-name a",usernameSelector:".ProfileHeaderCard-screenname a",urlSelector:".ProfileHeaderCard-urlText a"}),ProfileHeadScribe.attachTo(g);var h=".ProfileCardMini";ProfileHead.attachTo(h,b,{nonEmptyAvatarSelector:".ProfileCardMini-avatar",fullNameSelector:".ProfileNameTruncated a",usernameSelector:" .ProfileCardMini-screenname a",scribeContext:{component:"profile_follow_card_mini"}}),ProfileHeadScribe.attachTo(h),ProfileEditBtnScribe.attachTo(c,d,{editButtonSelector:".ProfileNav .UserActions-editButton"});var i=".ProfileUserList--socialProof";ProfileSocialProofScribe.attachTo(i),ProfileSocialProof.attachTo(i,{socialProofAvatarSelector:".ProfileUserList-facepileItem .Avatar",followersYouFollowSelector:".ProfileUserList-permalink",profileHoversEnabled:b.profileHoversEnabled});var j=".PhotoRail",k={profileUser:b.profile_user,mediaGrid:b.mediaGrid,mediaGridOpen:b.mediaGridOpen,gridPushState:b.mediaGrid,pushStateUrl:"/"+b.profile_user.screen_name+"/media",defaultGalleryTitle:b.profile_user.name,thumbnailContainerSelector:".PhotoRail-mediaBox",thumbnailPlaceholderSelector:".js-photoRailInsertPoint",thumbnailSize:83,thumbnailsVisible:6,showAllInlineMedia:!0,eventData:{scribeContext:{component:"dashboard_media"}}};MediaThumbnailsScribe.attachTo(document),MediaTimeline.attachTo(document,{endpoint:"/i/profiles/show/"+b.profile_user.screen_name+"/media_timeline",forceT1Media:!0}),CardThumbnails.attachTo(j,k),SidebarTweetbox.attachTo(".js-profileSidebarTweetbox",{draftTweetId:"profile_"+b.profile_id,eventData:{scribeContext:{component:"tweet_box"}}});var l={eventData:{scribeContext:{component:"profile_sidebar"}}};NewTweetButton.attachTo(".NewTweetButton",l),DMButton.attachTo(".DMButton",l),SuggestedUsersData.attachTo(document),SuggestedUsers.attachTo(".js-profileClusterFollow",{eventData:{scribeContext:{component:"user_similarities_list"}},targetSelector:".ProfileClusterFollow",userSelector:".ProfileCard"},b),b.followerRequestsReminderMessage&&FollowerRequestsReminder.attachTo(".ProfilePage",{followerRequestsReminderMessage:b.followerRequestsReminderMessage,environment:b.environment}),AutoSignupDialog.attachTo(".SignupDialog",{environment:b.environment}),AlcoholBrandFollowerNotification.attachTo(document,b)}
});
define("app/utils/event_proxy",["module","require","exports","core/component"],function(module, require, exports) {
function eventProxy(){this.defaultAttrs({sourceEvent:"",targetEvent:""}),this.proxy=function(a,b){this.trigger(this.attr.targetEvent,b)},this.after("initialize",function(){this.on(this.attr.sourceEvent,this.proxy)})}var defineComponent=require("core/component");module.exports=defineComponent(eventProxy)
});
define("app/ui/grid_tweet_actions",["module","require","exports","app/ui/timeline_tweet_actions","app/data/with_scribe_data_from_dom","app/ui/with_profile_tweet_stat_count_data","app/ui/with_hover_state_removal","app/ui/with_tweet_action_animation"],function(module, require, exports) {
var TimelineTweetActions=require("app/ui/timeline_tweet_actions"),withScribeDataFromDom=require("app/data/with_scribe_data_from_dom"),withProfileTweetStatCountData=require("app/ui/with_profile_tweet_stat_count_data"),withHoverStateRemoval=require("app/ui/with_hover_state_removal"),withTweetActionAnimation=require("app/ui/with_tweet_action_animation");module.exports=TimelineTweetActions.mixin(withScribeDataFromDom,withProfileTweetStatCountData,withHoverStateRemoval,withTweetActionAnimation)
});
define("app/ui/grid_more_tweet_actions_dropdown",["module","require","exports","app/ui/more_tweet_actions_dropdown","app/data/with_scribe_data_from_dom"],function(module, require, exports) {
var MoreTweetActionsDropdown=require("app/ui/more_tweet_actions_dropdown"),withScribeDataFromDom=require("app/data/with_scribe_data_from_dom"),GridMoreTweetActionsDropdown=MoreTweetActionsDropdown.mixin(withScribeDataFromDom);module.exports=GridMoreTweetActionsDropdown
});
define("app/ui/timelines/with_contextual_tweet",["module","require","exports"],function(module, require, exports) {
module.exports=function(){this.getContextualTweetId=function(a){return this.select("itemsSelector").find("[data-tweet-id]:not(.is-pinned):"+a).attr("data-tweet-id")},this.around("getNewItemsData",function(a){var b=a?a():{};return b.contextual_tweet_id=this.getContextualTweetId("first"),b}),this.around("getOldItemsData",function(a){var b=a?a():{};return b.contextual_tweet_id=this.getContextualTweetId("last"),b})}
});
define("app/ui/timelines/with_new_grid_items",["module","require","exports","core/compose","app/ui/timelines/with_new_items"],function(module, require, exports) {
function withNewGridItems(){compose.mixin(this,[withNewItems]),this.defaultAttrs({gridSelector:".Grid",gridCellSelector:".Grid-cell"}),this.removeComposedTweetsFromPayloadAround=function(_,a){var b=$("<div/>").append($(a.items_html)),c=b.find(this.attr.streamItemSelector),d=0;return c.each(function(a,b){var c=$(b),e=c.data("item-id");this.isItemComposedInThisPage(e)&&(c.closest(this.attr.gridCellSelector).remove(),d++,delete this.composedThenInjectedTweetIds[e])}.bind(this)),this.removeEmptyGrids(b.children(this.attr.gridSelector)),a.items_html=b.html(),d},this.removeEmptyGrids=function(a){a.each(function(a,b){var c=$(b),d=$.trim(c.html())=="";d&&c.remove()})},this.around("removeComposedTweetsFromPayload",this.removeComposedTweetsFromPayloadAround)}var compose=require("core/compose"),withNewItems=require("app/ui/timelines/with_new_items");module.exports=withNewGridItems
});
define("app/ui/timelines/with_grid_keyboard_navigation",["module","require","exports"],function(module, require, exports) {
function withGridKeyboardNavigation(){this.defaultAttrs({navigationContainerSelector:".GridTimeline-items > .Grid, .GridTimeline-items > .ScrollBump",navigationContainerCellSelector:".Grid-cell"}),this.around("next",function(a,b){var c=b.closest(this.attr.navigationContainerCellSelector).next().find(this.attr.genericItemSelector).first();return c.length==0&&(c=b.closest(this.attr.navigationContainerSelector).next().find(this.attr.genericItemSelector).first()),c}),this.around("prev",function(a,b){var c=b.closest(this.attr.navigationContainerCellSelector).prev().find(this.attr.genericItemSelector).first();return c.length==0&&(c=b.closest(this.attr.navigationContainerSelector).prev().find(this.attr.genericItemSelector).last()),c})}module.exports=withGridKeyboardNavigation
});
define("app/ui/with_animated_tweet_removal",["module","require","exports"],function(module, require, exports) {
function withAnimatedTweetRemoval(){this.handleUnRetweet=function(a,b){if(!this.attr.isCurrentUser)return;var c=this.$node.find('[data-tweet-id="'+b.tweet_id+'"]');c.slideUp()},this.handleTweetDeleteConfirmed=function(a,b){this.trigger("uiCloseDeleteTweetDialog");var c=this.$node.find('[data-tweet-id="'+b.id+'"]');c.slideUp()},this.handleTweetDeleteFailed=function(a,b){var c=this.$node.find('[data-tweet-id="'+b.sourceEventData.id+'"]');c.slideDown()},this.after("initialize",function(){if(!this.attr.loggedIn)return;this.on(document,"dataFailedToDeleteTweet",this.handleTweetDeleteFailed),this.on(document,"uiDidDeleteTweet",this.handleTweetDeleteConfirmed),this.on(document,"dataDidUnretweet",this.handleUnRetweet)})}module.exports=withAnimatedTweetRemoval
});
define("app/boot/tweet_grid_timeline",["module","require","exports","app/boot/preexpanded_cards","app/boot/timeline","app/boot/tweets","app/utils/event_proxy","app/ui/grid_tweet_actions","app/ui/grid_more_tweet_actions_dropdown","app/ui/profile/highline_tweet_stats","app/ui/timelines/new_items_bar","core/component","app/ui/timelines/base_timeline","app/ui/timelines/with_contextual_tweet","app/ui/timelines/with_tweet_pagination","app/ui/timelines/with_old_items","app/ui/timelines/with_new_grid_items","app/ui/with_item_actions","app/data/with_scribe_data_from_dom","app/ui/timelines/with_grid_keyboard_navigation","app/ui/timelines/with_tweets_displayed_reporting","app/ui/with_animated_tweet_removal","app/ui/with_timestamp_updating","app/ui/timelines/with_story_pagination","app/ui/gallery/with_gallery","app/ui/with_tweet_activity_actions","app/ui/with_viewer_follow_state","core/utils"],function(module, require, exports) {
var preexpandedCardsBoot=require("app/boot/preexpanded_cards"),timelineBoot=require("app/boot/timeline"),tweetsBoot=require("app/boot/tweets"),EventProxy=require("app/utils/event_proxy"),GridTweetActions=require("app/ui/grid_tweet_actions"),GridMoreTweetActionsDropdown=require("app/ui/grid_more_tweet_actions_dropdown"),HighlineTweetStats=require("app/ui/profile/highline_tweet_stats"),NewItemsBar=require("app/ui/timelines/new_items_bar"),defineComponent=require("core/component"),BaseTimeline=require("app/ui/timelines/base_timeline"),withContextualTweet=require("app/ui/timelines/with_contextual_tweet"),withPagination=require("app/ui/timelines/with_tweet_pagination"),withOldItems=require("app/ui/timelines/with_old_items"),withNewGridItems=require("app/ui/timelines/with_new_grid_items"),withItemActions=require("app/ui/with_item_actions"),withScribeDataFromDom=require("app/data/with_scribe_data_from_dom"),withGridKeyboardNavigation=require("app/ui/timelines/with_grid_keyboard_navigation"),withTweetsDisplayedReporting=require("app/ui/timelines/with_tweets_displayed_reporting"),withAnimatedTweetRemoval=require("app/ui/with_animated_tweet_removal"),withTimestampUpdating=require("app/ui/with_timestamp_updating"),withStoryPagination=require("app/ui/timelines/with_story_pagination"),withGallery=require("app/ui/gallery/with_gallery"),withTweetActivityActions=require("app/ui/with_tweet_activity_actions"),withViewerFollowState=require("app/ui/with_viewer_follow_state"),ItemActions=defineComponent(withItemActions,withScribeDataFromDom),PhotoModal=defineComponent(withGallery),TweetActivityActions=defineComponent(withTweetActivityActions),ViewerFollowState=defineComponent(withViewerFollowState),utils=require("core/utils");module.exports=function(b){var c={eventData:{scribeContext:{component:"tweet"}}};EventProxy.attachTo(document,{sourceEvent:"uiNewItemsAvailable",targetEvent:"uiNewSpoonbillsArrived"}),EventProxy.attachTo(".TwitterPhoto-viewMoreLink",{sourceEvent:"click",targetEvent:"uiMediaViewMoreClick"},c);var d="586671909",e;b.autoLoadPublisherIds==null?e=[d]:b.autoLoadPublisherIds.length>0?(e=b.autoLoadPublisherIds,e.push(d)):e=[],preexpandedCardsBoot({containerSelector:".GridTimeline-items",autoLoadPublisherIds:e}),timelineBoot({endpoint:b.timeline_url});var f;b.useStoryPagination?f=withStoryPagination:f=withPagination;var g=BaseTimeline.mixin(f,withOldItems,withNewGridItems,withContextualTweet,withScribeDataFromDom,withGridKeyboardNavigation,withTweetsDisplayedReporting,withAnimatedTweetRemoval,withTimestampUpdating),h=".GridTimeline";g.attachTo(h,{autoplay:b.autoplayEnabled,injectComposedTweets:b.injectComposedTweets,containerSelector:".GridTimeline-items",itemsSelector:".GridTimeline-items",timelineEndSelector:".GridTimeline-end",errorMessageSelector:".GridTimeline-failure",tryAgainSelector:".GridTimeline-retry",streamItemsSelector:".GridTimeline-items",genericInteractionItemSelector:".ProfileTweet",tweetWithReplyDialogSelector:".ProfileTweet",tweetContainerSelector:".js-stream-item",timestampSelector:".ProfileTweet-timestamp",selectedClass:"is-selected",selectedSelector:".is-selected",profileCardSelector:".ProfileCard",tweetSelector:".ProfileTweet"}),PhotoModal.attachTo(h,{mediaThumbnailSelector:".media-thumbnail:not(.is-preview)",timelineSelector:".GridTimeline-items"},c),ViewerFollowState.attachTo(h),ItemActions.attachTo(h,{disableProfilePopup:!0,genericInteractionItemSelector:".ProfileTweet"}),tweetsBoot(".AppContent-main",utils.merge(b,{preexpandedOpenTweetSelector:".ProfileTweet.opened-tweet",permalinkOverlayEnabled:b.permalinkOverlayEnabled,tweetSelector:b.tweetSelector||".js-tweet",excludeUserActions:!0,excludeConversations:!0})),GridTweetActions.attachTo(".AppContent-main",b,{selectedStreamItemSelector:".is-selected",ownTweetSelector:".is-author",tweetItemSelector:".js-tweet",favoriteSelector:".js-actionFavorite",replySelector:".js-actionReply",retweetSelector:".js-actionRetweet:not(:disabled)",genericInteractionItemSelector:".ProfileTweet",togglableTweetActionsSelector:".js-actionButton:visible",favoritedTweetClass:"is-favorited",retweetedTweetClass:"is-retweeted",anyLoggedInActionSelector:".js-actionReply, .js-actionRetweet, .js-actionFavorite, .js-actionCount"}),GridMoreTweetActionsDropdown.attachTo(".AppContent-main",b,{tweetItemSelector:".js-tweet",togglableTweetActionsSelector:".js-actionButton:visible",pinnedTweetClass:"is-pinned",genericInteractionItemSelector:".ProfileTweet"}),HighlineTweetStats.attachTo(document),TweetActivityActions.attachTo(".AppContent-main",b,{requestReplyActivitySelector:".ProfileTweet-actionList:not(.ProfileTweet-newActionList) .ProfileTweet-action--reply .ProfileTweet-actionCount",requestRetweetedActivitySelector:".ProfileTweet-actionList:not(.ProfileTweet-newActionList) .ProfileTweet-action--retweet .ProfileTweet-actionCount",requestFavoritedActivitySelector:".ProfileTweet-actionList:not(.ProfileTweet-newActionList) .ProfileTweet-action--favorite .ProfileTweet-actionCount"}),NewItemsBar.attachTo(".js-new-items-bar-container")}
});
define("app/ui/profile/empty_timeline_owner",["module","require","exports","core/component","app/utils/animate_window_scrolltop"],function(module, require, exports) {
function emptyTimelineOwner(){this.removeNode=function(){this.$node.remove(),animateWinScrollTop(0)},this.after("initialize",function(){this.on(document,"uiTweetSent",this.removeNode)})}var defineComponent=require("core/component"),animateWinScrollTop=require("app/utils/animate_window_scrolltop");module.exports=defineComponent(emptyTimelineOwner)
});
define("app/ui/profile/empty_timeline_tweetbox",["module","require","exports","core/component","app/ui/with_tweetbox_initialization"],function(module, require, exports) {
function emptyTimelineTweetbox(){this.defaultAttrs({preexpandTweetbox:!0,defaultText:""}),this.after("initialize",function(){this.initTweetbox({defaultText:this.attr.defaultText})})}var defineComponent=require("core/component"),withTweetboxInitialization=require("app/ui/with_tweetbox_initialization");module.exports=defineComponent(withTweetboxInitialization,emptyTimelineTweetbox)
});
define("app/ui/prefilled_tweet",["module","require","exports","core/component"],function(module, require, exports) {
function prefilledTweet(){this.defaultAttrs({tweetButtonSelector:".js-tweet-btn",tweetTextSelector:".js-tweet-text"}),this.sendTweet=function(a,b){this.$node.addClass("is-sending"),this.$tweetButton.addClass("disabled"),this.trigger("uiSendPrefilledTweet"),this.trigger("uiSendTweet",{tweetboxId:this.tweetboxId,tweetData:{status:this.tweetText}})},this.handleTweetResponse=function(a){return function(b,c){c.tweetboxId==this.tweetboxId&&a.call(this,b,c)}.bind(this)},this.tweetSent=function(a,b){this.trigger(b.unusual?"uiShowStickyMessage":"uiShowMessage",{message:b.message}),this.trigger("uiTweetSent",b),this.$node.remove()},this.tweetError=function(a,b){this.trigger("uiShowError",{message:b.error||b.message}),this.$node.removeClass("is-sending"),this.$tweetButton.removeClass("disabled")},this.after("initialize",function(){this.$tweetButton=this.select("tweetButtonSelector"),this.tweetText=this.select("tweetTextSelector").text(),this.tweetboxId="prefilled_tweet_"+this.identity,this.on("click",{tweetButtonSelector:this.sendTweet}),this.on(document,"dataTweetSuccess",this.handleTweetResponse(this.tweetSent)),this.on(document,"dataTweetError",this.handleTweetResponse(this.tweetError))})}var defineComponent=require("core/component");module.exports=defineComponent(prefilledTweet)
});
define("app/data/prefilled_tweet_scribe",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function prefilledTweetScribe(){this.scribeSendPrefilledTweet=function(a,b){this.scribe({element:"prefilled_tweet",action:"send_tweet"},b)},this.after("initialize",function(){this.on("uiSendPrefilledTweet",this.scribeSendPrefilledTweet)})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(withScribe,prefilledTweetScribe)
});
define("app/ui/profile/profile_card",["module","require","exports","core/component","app/ui/with_interaction_data","core/utils"],function(module, require, exports) {
function profileCard(){this.defaultAttrs({profileCardSelector:".ProfileCard",profileCardHeaderSelector:".ProfileCard-bg",profileCardAvatarSelector:".ProfileCard-avatarLink",profileCardNameSelector:".ProfileNameTruncated",profileCardScreenNameSelector:".ProfileCard-screenname",profileCardBioMentionSelector:".ProfileCard-bio .twitter-atreply",profileCardPromotedBadgeSelector:".ProfileCard-promoted",itemType:"user"}),this.getItemPosition=function(a){return this.select("profileCardSelector").index(a.closest(this.attr.profileCardSelector))},this.handleClick=function(a,b,c){var d=utils.merge(this.interactionData(b),{scribeContext:{element:a}});this.trigger(b.target,"uiProfileCardClicked",d),this.trigger(b.target,"uiShowProfileNewWindow",d)},this.after("initialize",function(){this.on("click",{profileCardHeaderSelector:this.handleClick.bind(this,"header_image"),profileCardAvatarSelector:this.handleClick.bind(this,"avatar"),profileCardNameSelector:this.handleClick.bind(this,"name"),profileCardScreenNameSelector:this.handleClick.bind(this,"screen_name"),profileCardBioMentionSelector:this.handleClick.bind(this,"description"),profileCardPromotedBadgeSelector:this.handleClick.bind(this,"promoted_badge")})})}var defineComponent=require("core/component"),withInteractionData=require("app/ui/with_interaction_data"),utils=require("core/utils");module.exports=defineComponent(profileCard,withInteractionData)
});
define("app/data/profile_card_scribe",["module","require","exports","core/component","app/data/with_interaction_data_scribe"],function(module, require, exports) {
function profileCardScribe(){this.getComponentTermFromDOM=function(a){return a.closest("[data-component-term]").data("component-term")||"user"},this.scribeProfileCardInteraction=function(a,b){b.scribeContext.action=b.isMentionClick?"mention_click":"profile_click",b.scribeContext.component=this.getComponentTermFromDOM($(a.target)),this.scribeInteraction(b.scribeContext,b)},this.after("initialize",function(){this.on("uiProfileCardClicked",this.scribeProfileCardInteraction)})}var defineComponent=require("core/component"),withInteractionDataScribe=require("app/data/with_interaction_data_scribe");module.exports=defineComponent(profileCardScribe,withInteractionDataScribe)
});
define("app/ui/profile/scroll_bumps",["module","require","exports","core/component","app/ui/with_user_actions"],function(module, require, exports) {
function scrollBumps(){this.defaultAttrs({moreUsersLinkSelector:".js-more-users-link",itemType:"user"}),this.openScrollBumpDialog=function(a,b){var c=$(b.el);this.trigger("uiOpenScrollBumpDialog",{userIds:c.data("more-user-ids").split(",")}),this.trigger("uiScrollBumpViewMoreLinkClicked"),a.preventDefault()},this.after("initialize",function(){this.on("click",{moreUsersLinkSelector:this.openScrollBumpDialog})})}var defineComponent=require("core/component"),withUserActions=require("app/ui/with_user_actions");module.exports=defineComponent(scrollBumps,withUserActions)
});
define("app/data/profile/scroll_bump_scribe",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function scrollBumpScribe(){this.after("initialize",function(){this.scribeOnEvent("uiScrollBumpViewMoreLinkClicked",{element:"view_more_link",action:"click"})})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(withScribe,scrollBumpScribe)
});
define("app/ui/dialogs/profile_scroll_bump",["module","require","exports","core/component","app/ui/with_dialog","app/ui/with_user_actions","app/ui/with_item_actions"],function(module, require, exports) {
function profileScrollBumpDialog(){this.defaultAttrs({itemType:"user",contentSelector:".js-users-list",slideDuration:300,top:47,closeOnOtherDialogOpened:!0}),this.openDialog=function(a,b){this.setContent(""),this.$body.stop(),this.open(),this.trigger("uiGetUsers",{ids:b.userIds})},this.insertUsers=function(a,b){var c=this.$body[0].scrollHeight;this.setContent(b.html);var d=Math.min(this.$body[0].scrollHeight,this.maxContentHeight());this.$body.height(c),this.slideInContent(d)},this.slideInContent=function(a){this.$body.animate({height:a},{duration:this.attr.slideDuration,complete:function(){this.trigger(this.$dialog,"uiDialogContentChanged")}.bind(this)})},this.setContent=function(a){this.$body.css("height",""),this.$node.toggleClass("has-content",!!a),this.$content.html(a)},this.showError=function(a,b){this.setContent($("<p>").addClass("error").html(b.message))},this.maxContentHeight=function(a,b){return this.$window.height()-2*this.attr.top-this.$header.outerHeight()},this.after("initialize",function(){this.$window=$(window),this.$header=this.select("modalHeaderSelector"),this.$body=this.select("modalBodySelector"),this.$content=this.select("contentSelector"),this.on(document,"uiOpenScrollBumpDialog",this.openDialog),this.on(document,"dataUsersSuccess",this.insertUsers),this.on(document,"dataUsersError",this.showError)})}var defineComponent=require("core/component"),withDialog=require("app/ui/with_dialog"),withUserActions=require("app/ui/with_user_actions"),withItemActions=require("app/ui/with_item_actions");module.exports=defineComponent(profileScrollBumpDialog,withDialog,withUserActions,withItemActions)
});
define("app/ui/list_actions",["module","require","exports","core/component","core/utils","core/i18n"],function(module, require, exports) {
function listActions(){this.defaultAttrs({win:window,listItemSelector:".list-follow-card",listDataAttr:"data-list-id",editSelector:".js-edit-list-action",subscribeSelector:".js-subscribe-list-action",subscribeClass:"is-subscribed",subscribeClassesForToggle:"is-subscribed js-unfollow-list-action",unsubscribeClassesForToggle:"is-unsubscribed js-follow-list-action",featureListSelector:".js-feature-list-action",featuredListClass:"is-featured",unfeaturedListClass:"is-unfeatured",featureClassesForToggle:"is-featured js-unpin-list-action",unfeatureClassesForToggle:"is-unfeatured js-pin-list-action",deleteSelector:".js-delete-list-action",rerenderListItem:!1,redirectToListPermalinkOnEdit:!1,removeFeaturedListFromPageOnUnfeature:!1}),this.handleAction=function(a,b,c){return function(d,e){var f=this.findListByProximity($(d.target)),g={list_id:this.getListId(f)},h;a==this.attr.subscribeClass?(h=f.hasClass(this.attr.subscribeClass)?"unsubscribe":"subscribe",g=utils.merge(g,{action:h})):a==this.attr.featuredListClass&&(h=f.hasClass(this.attr.featuredListClass)?"unfeature":"feature",g=utils.merge(g,{action:h}));var i=f.hasClass(a)?b:c;this.trigger(f,i,g),a==this.attr.subscribeClass&&this.setSubscribeState(d,{sourceEventData:g})}.bind(this)},this.handleTransition=function(a,b){return function(c,d){var e=this.findListFromEventData(d);e[a](b)}.bind(this)},this.findListFromEventData=function(a){var b=a.list_id||a.sourceEventData.list_id;return this.findListById(this.$node,b)},this.findListById=function(a,b){var c=this.attr.listItemSelector+"["+this.attr.listDataAttr+"="+b+"]";return a.find(c)},this.findListByProximity=function(a){return a.closest(this.attr.listItemSelector)},this.getListId=function(a){return a.attr(this.attr.listDataAttr)},this.updateFollowCard=function(a,b){b.follow_card_html&&this.select("listItemSelector").html(b.follow_card_html)},this.triggerEditListDialog=function(){this.trigger("uiOpenUpdateListDialog",{})},this.setSubscribeStateOnSuccess=function(a,b){this.setSubscribeState(a,b),this.attr.rerenderListItem&&this.trigger("uiRefreshFollowCard",b)},this.setSubscribeState=function(a,b){b.sourceEventData.action=="unsubscribe"?this.setListStateToUnsubscribed(a,b):this.setListStateToSubscribed(a,b)},this.revertSubscribeState=function(a,b){b.sourceEventData.action=="unsubscribe"?this.setListStateToSubscribed(a,b):this.setListStateToUnsubscribed(a,b)},this.setListStateToSubscribed=function(a,b){var c=this.select("subscribeSelector"),d=this.findListFromEventData(b);d.addClass(this.attr.subscribeClass),c.removeClass(this.attr.unsubscribeClassesForToggle).addClass(this.attr.subscribeClassesForToggle)},this.setListStateToUnsubscribed=function(a,b){var c=this.select("subscribeSelector"),d=this.findListFromEventData(b);d.removeClass(this.attr.subscribeClass),c.removeClass(this.attr.subscribeClassesForToggle).addClass(this.attr.unsubscribeClassesForToggle)},this.refreshList=function(a,b){b&&(this.attr.redirectToListPermalinkOnEdit&&b.slug?this.attr.win.location="/"+this.attr.screenName+"/lists/"+b.slug:this.reloadPage())},this.reloadPage=function(a,b){this.attr.win.location.reload(!0)},this.triggerDelete=function(a,b){this.trigger("uiDeleteList",{list_id:this.attr.list_id})},this.redirectToLists=function(){this.attr.win.location="/"+this.attr.screenName+"/lists"},this.confirmUserFeatureListToggle=function(a){return function(b){b.stopImmediatePropagation(),this.trigger(b.target,"uiOpenConfirmDialog",{titleText:a?_('Pin this list on your profile page'):_('Unpin this list from your profile'),bodyText:a?_('This will replace any previously pinned list. Are you sure?'):_('This will remove any previously pinned list. Are you sure?'),cancelText:_('Cancel'),submitText:a?_('Pin'):_('Unpin'),action:"UserFeatureListToggle"})}},this.triggerDeleteListDialog=function(){this.trigger("uiOpenConfirmDialog",{titleText:_('Are you sure you want to delete this list?'),cancelText:_('No'),submitText:_('Yes'),action:"DeleteList"})},this.toggledFeaturedList=function(a,b){var c=this.findListFromEventData(b),d=c.find(this.attr.featureListSelector);b.sourceEventData.action=="unfeature"?this.attr.removeFeaturedListFromPageOnUnfeature?c.slideUp("300",function(){c.remove()}):(c.removeClass(this.attr.featuredListClass),d.removeClass(this.attr.featureClassesForToggle).addClass(this.attr.unfeatureClassesForToggle)):(this.unfeatureOtherLists(a,b),c.addClass(this.attr.featuredListClass),d.removeClass(this.attr.unfeatureClassesForToggle).addClass(this.attr.featureClassesForToggle)),this.showUserFeaturedListToggledMessage(a,b)},this.unfeatureOtherLists=function(a,b){this.select("listItemSelector").find(this.attr.featureListSelector).removeClass(this.attr.featuredListClass).addClass(this.attr.unfeaturedListClass)},this.showUserFeaturedListToggledMessage=function(a,b){this.trigger("uiShowStickyMessage",b)},this.after("initialize",function(){this.on("click",{editSelector:this.triggerEditListDialog,deleteSelector:this.triggerDeleteListDialog,subscribeSelector:this.handleAction(this.attr.subscribeClass,"uiUnsubscribeFromList","uiSubscribeToList"),featureListSelector:this.handleAction(this.attr.featuredListClass,"uiNeedUserUnfeatureListDialog","uiNeedUserFeatureListDialog")}),this.on(document,"uiUserFeatureListToggleConfirm",this.handleAction(this.attr.featuredListClass,"uiDidUserUnfeatureList","uiDidUserFeatureList")),this.on(document,"uiDidUserFeatureList dataFailedToUserUnfeatureList",this.handleTransition("addClass",this.attr.featuredListClass)),this.on(document,"uiDidUserUnfeatureList dataFailedToUserFeatureList",this.handleTransition("removeClass",this.attr.featuredListClass)),this.on(document,"uiNeedUserFeatureListDialog",this.confirmUserFeatureListToggle(!0)),this.on(document,"uiNeedUserUnfeatureListDialog",this.confirmUserFeatureListToggle(!1)),this.on(document,"dataDidUserFeatureList dataDidUserUnfeatureList",this.toggledFeaturedList),this.on(document,"uiDeleteListConfirm",this.triggerDelete),this.on(document,"dataDidUpdateList",this.refreshList),this.on(document,"dataGotFollowCard",this.updateFollowCard),this.on(document,"dataDidSubscribeToList",this.setSubscribeStateOnSuccess),this.on(document,"dataFailedToSubscribeToList",this.revertSubscribeState),this.on(document,"dataDidDeleteList",this.redirectToLists)})}var defineComponent=require("core/component"),utils=require("core/utils"),_=require("core/i18n"),ListActions=defineComponent(listActions);module.exports=ListActions
});
define("app/data/list_actions",["module","require","exports","core/component","app/data/with_data","core/utils"],function(module, require, exports) {
function listActionsData(){this.defaultAttrs({successFromEndpoints:{update:"dataDidUpdateList","subscribe.json":"dataDidSubscribeToList","unsubscribe.json":"dataDidSubscribeToList","destroy.json":"dataDidDeleteList",feature:"dataDidUserFeatureList",unfeature:"dataDidUserUnfeatureList"},errorsFromEndpoints:{update:"dataFailedToUpdateList","subscribe.json":"dataFailedToSubscribeToList","unsubscribe.json":"dataFailedToSubscribeToList","destroy.json":"dataFailedToDeleteList",feature:"dataFailedToUserFeatureList",unfeature:"dataFailedToUserUnfeatureList"},addPhxHeaderForEndpoint:["subscribe.json","unsubscribe.json","destroy.json"]}),this.takeAction=function(a,b,c){var d=function(b){b&&b.message&&this.trigger("uiShowMessage",{message:b.message}),this.trigger(this.attr.successFromEndpoints[a],b)},e=function(b){b&&b.message&&this.trigger("uiShowMessage",{message:b.message}),this.trigger(this.attr.errorsFromEndpoints[a],b)},f={url:"/i/lists/"+a,data:c,eventData:c,success:d.bind(this),error:e.bind(this),retryIfUnavailable:!0};this.attr.addPhxHeaderForEndpoint.indexOf(a)!=-1&&(f=utils.merge(f,{headers:{"X-PHX":!0}})),this.post(f)},this.hitEndpoint=function(a){return this.takeAction.bind(this,a)},this.refreshFollowCard=function(a,b){var c=this.followCardEndpoint;this.get({url:c,data:{},eventData:b,success:"dataGotFollowCard",error:"dataFailedToGetFollowCard"})},this.after("initialize",function(){this.followCardEndpoint=this.attr.follow_card_url,this.on(document,"uiRefreshFollowCard",this.refreshFollowCard),this.on("uiUpdateList",this.hitEndpoint("update")),this.on("uiSubscribeToList",this.hitEndpoint("subscribe.json")),this.on("uiUnsubscribeFromList",this.hitEndpoint("unsubscribe.json")),this.on("uiDeleteList",this.hitEndpoint("destroy.json")),this.on("uiDidUserFeatureList",this.hitEndpoint("feature")),this.on("uiDidUserUnfeatureList",this.hitEndpoint("unfeature"))})}var defineComponent=require("core/component"),withData=require("app/data/with_data"),utils=require("core/utils"),ListActionsData=defineComponent(listActionsData,withData);module.exports=ListActionsData
});
define("app/data/list_actions_scribe",["module","require","exports","core/component","core/utils","app/data/with_scribe"],function(module, require, exports) {
function listActionsScribe(){this.scribeSubscribeOrUnsubscribe=function(a,b){if(b.sourceEventData&&b.sourceEventData.action){var c=utils.merge(this.attr.scribeContext,{element:"subscribe_button",action:b.sourceEventData.action});this.scribe(c,b)}},this.scribeUserFeatureList=function(a,b){if(b.sourceEventData&&b.sourceEventData.action){var c=utils.merge(this.attr.scribeContext,{element:"feature_button",action:b.sourceEventData.action});this.scribe(c,b)}},this.after("initialize",function(){this.on(document,"dataDidSubscribeToList",this.scribeSubscribeOrUnsubscribe),this.on(document,"dataDidUserFeatureList",this.scribeUserFeatureList),this.on(document,"dataDidUserUnfeatureList",this.scribeUserFeatureList)})}var defineComponent=require("core/component"),utils=require("core/utils"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(listActionsScribe,withScribe)
});
define("app/ui/profile/profile_featured_list",["module","require","exports","core/component","app/ui/with_item_actions"],function(module, require, exports) {
function profileFeaturedList(){this.defaultAttrs({userAvatarSelector:".ProfileUserList-facepileItem .Avatar",userListPermalinkSelector:".ProfileUserList-permalink",userListUserCountSelector:".ProfileUserList-userCountLink",userListEditSelector:".ProfileUserList-editAction",userListUnfeatureSelector:".ProfileUserList-removeAction",userListSubscribeSelector:".ProfileUserList-subscribeAction.is-unsubscribed",userListUnsubsribeSelector:".ProfileUserList-subscribeAction.is-subscribed",itemType:"user"}),this.profileFeaturedListAvatarClick=function(a,b){this.trigger("uiProfileFeaturedListAvatarClick")},this.profileFeaturedListPermalinkClick=function(a,b){this.trigger("uiProfileFeaturedListPermalinkClick")},this.profileFeaturedListUserCountClick=function(a,b){this.trigger("uiProfileFeaturedListUserCountClick")},this.profileFeaturedListEditClick=function(a,b){this.trigger("uiProfileFeaturedListEditClick")},this.profileFeaturedListUnfeatureClick=function(a,b){this.trigger("uiProfileFeaturedListUnfeatureClick")},this.profileFeaturedListSubscribeClick=function(a,b){this.trigger("uiProfileFeaturedListSubscribeClick")},this.profileFeaturedListUnsubscribeClick=function(a,b){this.trigger("uiProfileFeaturedListUnsubscribeClick")},this.after("initialize",function(){this.trigger("uiHasProfileFeaturedList"),this.on("click",{userAvatarSelector:this.profileFeaturedListAvatarClick,userListPermalinkSelector:this.profileFeaturedListPermalinkClick,userListUserCountSelector:this.profileFeaturedListUserCountClick,userListEditSelector:this.profileFeaturedListEditClick,userListUnfeatureSelector:this.profileFeaturedListUnfeatureClick,userListSubscribeSelector:this.profileFeaturedListSubscribeClick,userListUnsubsribeSelector:this.profileFeaturedListUnsubscribeClick})})}var defineComponent=require("core/component"),withItemActions=require("app/ui/with_item_actions"),ProfileFeaturedList=defineComponent(profileFeaturedList,withItemActions);module.exports=ProfileFeaturedList
});
define("app/data/profile_featured_list_scribe",["module","require","exports","core/component","core/utils","app/data/with_scribe"],function(module, require, exports) {
function profileFeaturedListScribe(){this.defaultAttrs({scribeContext:{component:"profile_sidebar"}}),this.scribeProfileFeaturedList=function(a,b){var c=utils.merge(this.attr.scribeContext,{element:"featured_list",action:"impression"});this.scribe(c,b)},this.scribeProfileFeaturedListAvatarClick=function(a,b){var c=utils.merge(this.attr.scribeContext,{element:"featured_list_avatar",action:"click"});this.scribe(c,b)},this.scribeProfileFeaturedListPermalinkClick=function(a,b){var c=utils.merge(this.attr.scribeContext,{element:"featured_list_permalink",action:"click"});this.scribe(c,b)},this.scribeProfileFeaturedListUserCountClick=function(a,b){var c=utils.merge(this.attr.scribeContext,{element:"featured_list_user_count",action:"click"});this.scribe(c,b)},this.scribeProfileFeaturedListEditClick=function(a,b){var c=utils.merge(this.attr.scribeContext,{element:"featured_list_edit",action:"click"});this.scribe(c,b)},this.scribeProfileFeaturedListUnfeatureClick=function(a,b){var c=utils.merge(this.attr.scribeContext,{element:"featured_list_unfeature",action:"click"});this.scribe(c,b)},this.scribeProfileFeaturedListSubscribeClick=function(a,b){var c=utils.merge(this.attr.scribeContext,{element:"featured_list_subscribe",action:"click"});this.scribe(c,b)},this.scribeProfileFeaturedListUnsubscribeClick=function(a,b){var c=utils.merge(this.attr.scribeContext,{element:"featured_list_unsubscribe",action:"click"});this.scribe(c,b)},this.after("initialize",function(){this.on("uiHasProfileFeaturedList",this.scribeProfileFeaturedList),this.on("uiProfileFeaturedListAvatarClick",this.scribeProfileFeaturedListAvatarClick),this.on("uiProfileFeaturedListPermalinkClick",this.scribeProfileFeaturedListPermalinkClick),this.on("uiProfileFeaturedListUserCountClick",this.scribeProfileFeaturedListUserCountClick),this.on("uiProfileFeaturedListEditClick",this.scribeProfileFeaturedListEditClick),this.on("uiProfileFeaturedListUnfeatureClick",this.scribeProfileFeaturedListUnfeatureClick),this.on("uiProfileFeaturedListSubscribeClick",this.scribeProfileFeaturedListSubscribeClick),this.on("uiProfileFeaturedListUnsubscribeClick",this.scribeProfileFeaturedListUnsubscribeClick)})}var defineComponent=require("core/component"),utils=require("core/utils"),withScribe=require("app/data/with_scribe"),ProfileFeaturedListScribe=defineComponent(profileFeaturedListScribe,withScribe);module.exports=ProfileFeaturedListScribe
});
define("app/pages/profile/highline_landing",["module","require","exports","app/boot/highline_profile","app/boot/tweet_grid_timeline","app/boot/user_completion_module","app/ui/profile/empty_timeline_owner","app/ui/profile/empty_timeline_tweetbox","app/ui/prefilled_tweet","app/data/prefilled_tweet_scribe","app/ui/profile/profile_card","app/data/profile_card_scribe","app/ui/profile/scroll_bumps","app/data/profile/scroll_bump_scribe","app/ui/dialogs/profile_scroll_bump","app/data/users","app/ui/user_actions","app/ui/dialogs/uz_survey","app/ui/list_actions","app/data/list_actions","app/data/list_actions_scribe","app/ui/profile/profile_featured_list","app/data/profile_featured_list_scribe"],function(module, require, exports) {
var profileBoot=require("app/boot/highline_profile"),tweetGridTimelineBoot=require("app/boot/tweet_grid_timeline"),userCompletionModuleBoot=require("app/boot/user_completion_module"),EmptyTimelineOwner=require("app/ui/profile/empty_timeline_owner"),EmptyTimelineTweetbox=require("app/ui/profile/empty_timeline_tweetbox"),PrefilledTweet=require("app/ui/prefilled_tweet"),PrefilledTweetScribe=require("app/data/prefilled_tweet_scribe"),ProfileCard=require("app/ui/profile/profile_card"),ProfileCardScribe=require("app/data/profile_card_scribe"),ScrollBumps=require("app/ui/profile/scroll_bumps"),ScrollBumpScribe=require("app/data/profile/scroll_bump_scribe"),ScrollBumpDialog=require("app/ui/dialogs/profile_scroll_bump"),UsersData=require("app/data/users"),UserActions=require("app/ui/user_actions"),uzSurvey=require("app/ui/dialogs/uz_survey"),ListActions=require("app/ui/list_actions"),ListActionsData=require("app/data/list_actions"),ListActionsScribe=require("app/data/list_actions_scribe"),ProfileFeaturedList=require("app/ui/profile/profile_featured_list"),ProfileFeaturedListScribe=require("app/data/profile_featured_list_scribe");module.exports=function(b){profileBoot(b),tweetGridTimelineBoot(b),userCompletionModuleBoot(b),b.profile_user&&$(document).trigger("profileVisit",b.profile_user),ProfileCard.attachTo(".GridTimeline"),ProfileCardScribe.attachTo(document),ScrollBumps.attachTo(".GridTimeline",{loggedIn:b.loggedIn,eventData:{scribeContext:{component:"user_scroll_bump"}}}),ScrollBumpScribe.attachTo(document),ScrollBumpDialog.attachTo(".ScrollBumpDialog",b,{itemType:"user",eventData:{scribeContext:{component:"scroll_bump_dialog"}}}),UsersData.attachTo(document),b.isCurrentUser&&EmptyTimelineOwner.attachTo(".js-empty-timeline"),EmptyTimelineTweetbox.attachTo(".js-profileEmptyTimelineTweetbox",{draftTweetId:"empty_profile_"+b.profile_id+"_"+(b.isCurrentUser?"owner":"viewer"),defaultText:b.isCurrentUser?"":"@"+b.profile_user.screen_name+" ",eventData:{scribeContext:{component:"empty_timeline"}}}),UserActions.attachTo(".GridTimeline",b,{genericItemSelector:".ScrollBump--recentlyFollowed .js-stream-item",itemType:"user"});var c=".ProfileUserList--featuredList";ListActions.attachTo(document,b,{listItemSelector:c,subscribeSelector:".ProfileUserList-subscribeAction",featureListSelector:".js-actionFeatureList",removeFeaturedListFromPageOnUnfeature:!0}),ListActionsData.attachTo(document,b),ListActionsScribe.attachTo(document,b,{scribeContext:{component:"profile_sidebar"}}),ProfileFeaturedListScribe.attachTo(c),ProfileFeaturedList.attachTo(c,{profileHoversEnabled:b.profileHoversEnabled}),PrefilledTweet.attachTo(".ProfilePrefilledTweet",{eventData:{scribeContext:{component:"empty_timeline"}}}),PrefilledTweetScribe.attachTo(document),uzSurvey.attachTo("#uz_vit_profile_survey")}
});
define("app/pages/profile/highline_tweets",["module","require","exports","app/boot/highline_profile","app/boot/tweet_grid_timeline"],function(module, require, exports) {
var profileBoot=require("app/boot/highline_profile"),tweetGridTimelineBoot=require("app/boot/tweet_grid_timeline");module.exports=function(b){profileBoot(b),tweetGridTimelineBoot(b)}
});
define("app/pages/profile/highline_favorites",["module","require","exports","app/boot/highline_profile","app/boot/tweet_grid_timeline"],function(module, require, exports) {
var profileBoot=require("app/boot/highline_profile"),tweetGridTimelineBoot=require("app/boot/tweet_grid_timeline");module.exports=function(b){profileBoot(b),tweetGridTimelineBoot(b)}
});
define("app/boot/user_grid_timeline",["module","require","exports","core/component","app/boot/timeline","app/data/tweet_actions","app/ui/timelines/base_timeline","app/ui/timelines/with_old_items","app/ui/timelines/with_cursor_pagination","app/ui/with_item_actions","app/ui/with_user_actions","app/ui/with_stream_users","app/ui/timelines/with_excluded_ids_pagination","app/ui/timelines/with_grid_keyboard_navigation","app/ui/timelines/with_story_pagination"],function(module, require, exports) {
function initialize(a){timelineBoot({endpoint:a.timeline_url});var b;a.useStoryPagination?b=withStoryPagination:b=withCursorPagination;var c=BaseTimeline.mixin(withOldItems,b,withItemActions,withUserActions,withStreamUsers,withExcludedIdsPagination,withGridKeyboardNavigation);TweetActionsData.attachTo(document,a),c.attachTo(".GridTimeline",a,{containerSelector:".GridTimeline-items",itemsSelector:".GridTimeline-items",timelineEndSelector:".GridTimeline-end",errorMessageSelector:".GridTimeline-footer .Icon--fail",streamItemsSelector:".GridTimeline-items",streamUserSelector:".GridTimeline-items .js-actionable-user",disableProfilePopup:!0,selectedClass:"is-selected",selectedSelector:".is-selected",firstItemSelector:".js-stream-item:first-child",profileCardSelector:".ProfileCard",itemType:"user",eventData:{scribeContext:{component:"user"}}})}var defineComponent=require("core/component"),timelineBoot=require("app/boot/timeline"),TweetActionsData=require("app/data/tweet_actions"),BaseTimeline=require("app/ui/timelines/base_timeline"),withOldItems=require("app/ui/timelines/with_old_items"),withCursorPagination=require("app/ui/timelines/with_cursor_pagination"),withItemActions=require("app/ui/with_item_actions"),withUserActions=require("app/ui/with_user_actions"),withStreamUsers=require("app/ui/with_stream_users"),withExcludedIdsPagination=require("app/ui/timelines/with_excluded_ids_pagination"),withGridKeyboardNavigation=require("app/ui/timelines/with_grid_keyboard_navigation"),withStoryPagination=require("app/ui/timelines/with_story_pagination");module.exports=initialize
});
define("app/ui/profile/pending_followers_title",["module","require","exports","core/component"],function(module, require, exports) {
function pendingFollowersTitle(){this.defaultAttrs({pendingFollowersTitleSelector:".ProfileHeading-pendingFollowersText"}),this.handlePendingFollowerChange=function(a,b){b.pendingRequestsHtml&&this.select("pendingFollowersTitleSelector").html(b.pendingRequestsHtml)},this.after("initialize",function(){this.on(document,"dataFollowerAcceptSuccess",this.handlePendingFollowerChange),this.on(document,"dataFollowerDeclineSuccess",this.handlePendingFollowerChange)})}var defineComponent=require("core/component");module.exports=defineComponent(pendingFollowersTitle)
});
define("app/pages/profile/highline_follower_requests",["module","require","exports","app/boot/highline_profile","app/boot/user_grid_timeline","app/ui/timelines/follower_request_timeline","app/data/follower_request","app/data/follower_request_scribe","app/ui/profile/profile_card","app/data/profile_card_scribe","app/ui/profile/pending_followers_title"],function(module, require, exports) {
var profileBoot=require("app/boot/highline_profile"),userGridTimelineBoot=require("app/boot/user_grid_timeline"),FollowerRequestTimeline=require("app/ui/timelines/follower_request_timeline"),FollowerRequestData=require("app/data/follower_request"),FollowerRequestScribe=require("app/data/follower_request_scribe"),ProfileCard=require("app/ui/profile/profile_card"),ProfileCardScribe=require("app/data/profile_card_scribe"),PendingFollowersTitle=require("app/ui/profile/pending_followers_title");module.exports=function(b){profileBoot(b),userGridTimelineBoot(b),FollowerRequestTimeline.attachTo(".GridTimeline",b,{userItemSelector:"div.js-actionable-user",streamUserItemSelector:".js-stream-item",followerActionsSelector:".js-acceptDeclineActions",profileActionsSelector:".js-userActions",acceptFollowerSelector:".js-actionAccept",declineFollowerSelector:".js-actionDeny"}),FollowerRequestData.attachTo(document,b),FollowerRequestScribe.attachTo(document),ProfileCard.attachTo(".GridTimeline"),ProfileCardScribe.attachTo(document),PendingFollowersTitle.attachTo(document)}
});
define("app/pages/profile/highline_followers",["module","require","exports","app/boot/highline_profile","app/boot/user_grid_timeline","app/ui/profile/profile_card","app/data/profile_card_scribe"],function(module, require, exports) {
var profileBoot=require("app/boot/highline_profile"),userGridTimelineBoot=require("app/boot/user_grid_timeline"),ProfileCard=require("app/ui/profile/profile_card"),ProfileCardScribe=require("app/data/profile_card_scribe");module.exports=function(b){profileBoot(b),userGridTimelineBoot(b),ProfileCard.attachTo(".GridTimeline"),ProfileCardScribe.attachTo(document)}
});
define("app/pages/profile/highline_following",["module","require","exports","app/boot/highline_profile","app/boot/user_grid_timeline","app/ui/profile/profile_card","app/data/profile_card_scribe"],function(module, require, exports) {
var profileBoot=require("app/boot/highline_profile"),userGridTimelineBoot=require("app/boot/user_grid_timeline"),ProfileCard=require("app/ui/profile/profile_card"),ProfileCardScribe=require("app/data/profile_card_scribe");module.exports=function(b){profileBoot(b),userGridTimelineBoot(b),ProfileCard.attachTo(".GridTimeline"),ProfileCardScribe.attachTo(document)}
});
define("app/pages/profile/highline_media",["module","require","exports","app/boot/highline_profile","app/boot/tweet_grid_timeline","core/utils"],function(module, require, exports) {
var profileBoot=require("app/boot/highline_profile"),tweetGridTimelineBoot=require("app/boot/tweet_grid_timeline"),utils=require("core/utils");module.exports=function(b){profileBoot(b),tweetGridTimelineBoot(utils.merge({autoLoadPublisherIds:[]},b))}
});
define("app/pages/profile/highline_lists",["module","require","exports","app/boot/highline_profile","app/boot/timeline","app/ui/timelines/list_timeline","app/ui/profile/list_create_button","app/ui/list_actions","app/data/list_actions","app/data/list_actions_scribe","app/data/tweet_actions","core/utils"],function(module, require, exports) {
var profileBoot=require("app/boot/highline_profile"),timelineBoot=require("app/boot/timeline"),ListTimeline=require("app/ui/timelines/list_timeline"),ListCreateButton=require("app/ui/profile/list_create_button"),ListActions=require("app/ui/list_actions"),ListActionsData=require("app/data/list_actions"),ListActionsScribe=require("app/data/list_actions_scribe"),TweetActionsData=require("app/data/tweet_actions"),utils=require("core/utils");module.exports=function(b){profileBoot(b),ListCreateButton.attachTo(".ListCreationModule",{createListSelector:".ListCreationModule-action .btn"}),ListActions.attachTo(document,b,{listItemSelector:".ProfileListItem",featureListSelector:".js-actionFeatureList"}),ListActionsData.attachTo(document,b),ListActionsScribe.attachTo(document,b,{scribeContext:{component:"list_stream_item"}});var c=utils.merge(b,{endpoint:b.timeline_url,itemType:"list",eventData:{scribeContext:{component:"stream"}}});timelineBoot(c),ListTimeline.attachTo(".GridTimeline",{containerSelector:".GridTimeline-items",itemsSelector:".GridTimeline-items",timelineEndSelector:".GridTimeline-end",errorMessageSelector:".GridTimeline-footer .Icon--fail",streamItemsSelector:".GridTimeline-items"}),TweetActionsData.attachTo(document,b)}
});
define("app/pages/profile/highline_custom_timelines",["module","require","exports","core/component","app/boot/highline_profile","app/boot/timeline","app/ui/timelines/custom_timelines_timeline","app/ui/with_custom_timeline_create_button","app/data/curation","core/utils"],function(module, require, exports) {
var defineComponent=require("core/component"),profileBoot=require("app/boot/highline_profile"),timelineBoot=require("app/boot/timeline"),CustomTimelinesTimeline=require("app/ui/timelines/custom_timelines_timeline"),withCustomTimelineCreateButton=require("app/ui/with_custom_timeline_create_button"),CurationData=require("app/data/curation"),utils=require("core/utils");module.exports=function(b){profileBoot(b),defineComponent(withCustomTimelineCreateButton).attachTo(".ListCreationModule",{createCustomTimelineSelector:".ListCreationModule-action .btn"});var c=utils.merge(b,{endpoint:b.timeline_url,itemType:"custom-timeline",eventData:{scribeContext:{component:"stream"}}});timelineBoot(c),CustomTimelinesTimeline.attachTo(".GridTimeline",{containerSelector:".GridTimeline-items",itemsSelector:".GridTimeline-items",timelineEndSelector:".GridTimeline-end",errorMessageSelector:".GridTimeline-footer .Icon--fail",streamItemsSelector:".GridTimeline-items"}),CurationData.attachTo(document,b)}
});
define("app/boot/event",["module","require","exports","app/boot/app","app/boot/logged_out","app/data/client_event","app/ui/navigation_links","app/ui/profile/highline_canopy","bower_components/flight-viewport/lib/viewport","app/ui/media/card_thumbnails","app/data/media_thumbnails_scribe","app/ui/new_tweet_button","app/ui/profile/sidebar_arrangement"],function(module, require, exports) {
var bootApp=require("app/boot/app"),loggedOutBoot=require("app/boot/logged_out"),clientEvent=require("app/data/client_event"),NavigationLinks=require("app/ui/navigation_links"),EventCanopy=require("app/ui/profile/highline_canopy"),Viewport=require("bower_components/flight-viewport/lib/viewport"),CardThumbnails=require("app/ui/media/card_thumbnails"),MediaThumbnailsScribe=require("app/data/media_thumbnails_scribe"),NewTweetButton=require("app/ui/new_tweet_button"),SidebarArrangement=require("app/ui/profile/sidebar_arrangement");module.exports=function(b){bootApp(b),loggedOutBoot(b),clientEvent.scribeData.search_details=b.searchDetails;var c=".ProfileCanopy";Viewport.attachTo(document,{debounceWait:0,breakpoints:[{"max-width":864},{"min-width":865,"max-width":1200},{"min-width":1201,"max-width":1500},{"min-width":1501,"max-width":1730},{"min-width":1731,"max-width":1930},{"min-width":1931}]}),EventCanopy.attachTo(c,b),SidebarArrangement.attachTo(".EventPage"),CardThumbnails.attachTo(".PhotoRail",{mediaGrid:!0,thumbnailContainerSelector:".PhotoRail-mediaBox",thumbnailPlaceholderSelector:".js-photoRailInsertPoint",thumbnailSize:83,eventData:{scribeContext:{component:"dashboard_media"}}},{noTeardown:!0}),MediaThumbnailsScribe.attachTo(document),NewTweetButton.attachTo(".NewTweetButton",{eventData:{scribeContext:{component:"events_navbar"}}}),NavigationLinks.attachTo(".PhotoRail-headingText a",{eventData:{scribeContext:{component:"dashboard_media"}}}),NavigationLinks.attachTo(".EventRoster-headingText",{eventData:{scribeContext:{component:"user_list"}}}),NavigationLinks.attachTo(".EventRoster-memberList a",{eventData:{scribeContext:{component:"user_list"}}})}
});
define("app/ui/events/follow_all",["module","require","exports","core/component","core/i18n"],function(module, require, exports) {
function followAll(){this.defaultAttrs({followAllSelector:".js-follow-all",followingClass:"following",notFollowingClass:"not-following"}),this.toggleFollowAll=function(a,b){var c=this.select("followAllSelector").data("user-ids").split(",").map(function(a){return parseInt(a,10)}),d=this.isFollowing()?"uiUnfollowAllUsers":"uiFollowAllUsers";this.trigger(d,{ids:c})},this.onFollowAllSuccess=function(a,b){this.$node.addClass(this.attr.followingClass),this.$node.removeClass(this.attr.notFollowingClass);var c=this.select("followAllSelector").data("user-names").split(",").map(function(a){return"@"+a}).join(", ");this.trigger("uiShowMessage",{message:_('You are now following {{user_names}}',{user_names:c})})},this.onUnfollowAllSuccess=function(a,b){this.$node.addClass(this.attr.notFollowingClass),this.$node.removeClass(this.attr.followingClass)},this.onFollowError=function(a,b){this.trigger("uiShowMessage",{message:_('Whoops! Something went wrong. Please try again!')})},this.isFollowing=function(){return this.$node.hasClass(this.attr.followingClass)},this.after("initialize",function(){this.on("click",{followAllSelector:this.toggleFollowAll}),this.on(document,"dataFollowAllUsersSuccess",this.onFollowAllSuccess),this.on(document,"dataUnfollowAllUsersSuccess",this.onUnfollowAllSuccess),this.on(document,"dataFollowAllUsersFailure dataUnfollowAllUsersFailure",this.onFollowError)})}var defineComponent=require("core/component"),_=require("core/i18n");module.exports=defineComponent(followAll)
});
define("app/boot/topics_event",["module","require","exports","app/boot/event","app/boot/trends","app/ui/events/follow_all","app/data/follow_all","app/data/follow_all_scribe"],function(module, require, exports) {
var bootEvent=require("app/boot/event"),bootTrends=require("app/boot/trends"),EventFollowAll=require("app/ui/events/follow_all"),FollowAllData=require("app/data/follow_all"),FollowAllScribe=require("app/data/follow_all_scribe");module.exports=function(b){bootEvent(b),bootTrends(b),EventFollowAll.attachTo(".EventFollowAll-action"),FollowAllData.attachTo(document),FollowAllScribe.attachTo(document)}
});
define("app/pages/events/topics/tweets",["module","require","exports","app/boot/topics_event","app/boot/tweet_grid_timeline","core/utils"],function(module, require, exports) {
var bootTopicsEvent=require("app/boot/topics_event"),tweetGridTimelineBoot=require("app/boot/tweet_grid_timeline"),utils=require("core/utils");module.exports=function(b){bootTopicsEvent(b),tweetGridTimelineBoot(utils.merge(b,{containerSelector:".GridTimeline-items",scrollTopOnNewItemsClick:!1}))}
});
define("app/pages/events/topics/people",["module","require","exports","app/boot/topics_event","app/boot/user_grid_timeline"],function(module, require, exports) {
var bootTopicsEvent=require("app/boot/topics_event"),userGridTimelineBoot=require("app/boot/user_grid_timeline");module.exports=function(b){bootTopicsEvent(b),userGridTimelineBoot(b)}
});