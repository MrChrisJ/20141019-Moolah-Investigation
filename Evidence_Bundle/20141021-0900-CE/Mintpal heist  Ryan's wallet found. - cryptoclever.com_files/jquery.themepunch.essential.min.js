

/************************************************************************************
 * jquery.themepunch.essential.js - jQuery Plugin for esg Portfolio Slider
 * @version: 1.1.0 (05.07.2014)
 * @requires jQuery v1.7 or later (tested on 1.9)
 * @author ThemePunch
************************************************************************************/
//! ++++++++++++++++++++++++++++++++++++++

(function(e,t){function r(e,t){}function s(t,n){var r=new Array;t.find(".esg-filter-wrapper .esg-filterbutton.selected").each(function(){r.push(e(this).data("fid"))});if(t.find(".esg-filter-wrapper .esg-filterbutton.selected").length==0)r.push(-1);var i=new Array;for(var s=0;s<n.loadMoreItems.length;s++){e.each(n.loadMoreItems[s][1],function(t,o){e.each(r,function(e,t){if(t==o&&n.loadMoreItems[s][0]!=-1)i.push(n.loadMoreItems[s])})})}return i}function o(t,n){e.each(t.loadMoreItems,function(e,r){if(r[0]==n)t.loadMoreItems[e][0]=-1})}function u(e){var t=true;for(var n=0;n<e.loadMoreItems.length;n++){if(e.loadMoreItems[n][0]!=-1)t=false}return t}function a(t,n){var i=s(t,n);var a=new Array;e.each(i,function(e,t){if(a.length<n.loadMoreAmount){a.push(t[0]);o(n,t[0])}});var f=s(t,n).length;if(a.length>0){var l=t.find(".esg-loadmore");if(l.length>0){punchgs.TweenLite.to(l,.4,{autoAlpha:.2});l.data("loading",1)}var h={action:n.loadMoreAjaxAction,client_action:"load_more_items",token:n.loadMoreAjaxToken,data:a,gridid:n.gridID};e.ajax({type:"post",url:n.loadMoreAjaxUrl,dataType:"json",data:h}).success(function(e,i,s){if(e.success){t.find("ul").first().append(e.data);r(t,n);T(n,true);C(n);setTimeout(function(){n.animDelay="off";A(n);c(t);if(u(n))t.find(".esg-loadmore").remove();else{var e=t.find(".esg-loadmore");if(f==0)e.html(n.loadMoreEndTxt);else e.html(n.loadMoreTxt+" ("+f+")");if(e.length>0){punchgs.TweenLite.to(e,.4,{autoAlpha:1,overwrite:"all"});e.data("loading",0)}}setTimeout(function(){n.animDelay="on"},500)},10)}}).error(function(e,n,r){t.find(".esg-loadmore").html("FAILURE: "+n)})}else{if(u(n)){t.find(".esg-loadmore").remove()}else{t.find(".esg-loadmore").html(n.loadMoreEndTxt)}}}function l(n,r){var i=n.find(".eg-leftright-container");var o=v(r,e(window).width(),"id");r.column=o.column;r.columnindex=o.index;T(r);A(r);e(".esg-filter-wrapper").each(function(){var t=e(this);if(t.hasClass("dropdownstyle")){t.find(".esg-filter-checked").each(function(){e(this).prependTo(e(this).parent())});if(!f()){t.hover(function(){var t=e(this).closest(".esg-filter-wrapper");t.find(".esg-selected-filterbutton").addClass("hoveredfilter");t.find(".esg-dropdown-wrapper").stop().slideDown(200)},function(){var t=e(this).closest(".esg-filter-wrapper");t.find(".esg-selected-filterbutton").removeClass("hoveredfilter");t.find(".esg-dropdown-wrapper").stop().slideUp(200)})}else{t.find(".esg-selected-filterbutton").click(function(){var n=e(this);if(n.hasClass("hoveredfilter")){n.removeClass("hoveredfilter");t.find(".esg-dropdown-wrapper").stop().slideUp(200);punchgs.TweenLite.to(t.find(".eg-icon-down-open"),.3,{scaleY:1})}else{n.addClass("hoveredfilter");t.find(".esg-dropdown-wrapper").stop().slideDown(200);punchgs.TweenLite.to(t.find(".eg-icon-down-open"),.3,{scaleY:-1})}})}}});n.find(".esg-left").click(function(){r=m(n);r.oldpage=r.currentpage;r.currentpage--;if(r.currentpage<0)r.currentpage=r.realmaxpage-1;var t=v(r,e(window).width(),"id");r.column=t.column;r.columnindex=t.index;C(r);A(r,"right");g(n,r);q(true)});n.find(".esg-right").click(function(){r=m(n);r.oldpage=r.currentpage;r.currentpage++;if(r.currentpage>=r.realmaxpage)r.currentpage=0;var t=v(r,e(window).width(),"id");r.column=t.column;r.columnindex=t.index;C(r);A(r,"right");g(n,r);q(true)});n.find(".esg-filterbutton").each(function(){if(!e(this).hasClass("esg-pagination-button"))e(this).click(function(){var t=m(n);q(true);var r=e(this);if(!r.hasClass("esg-pagination-button")){n.find(".esg-allfilter").removeClass("selected");if(r.hasClass("esg-allfilter")){n.find(".esg-filterbutton").each(function(){e(this).removeClass("selected")})}}if(r.closest(".esg-filters").hasClass("esg-singlefilters")){n.find(".esg-filterbutton").each(function(){e(this).removeClass("selected")});r.addClass("selected")}else{if(r.hasClass("selected"))r.removeClass("selected");else r.addClass("selected")}var i=0;n.find(".esg-filterbutton.selected").each(function(){if(e(this).hasClass("selected")&&!e(this).hasClass("esg-pagination-button"))i++});if(i==0)n.find(".esg-allfilter").addClass("selected");t.filterchanged=true;t.currentpage=0;if(t.maxpage==1){n.find(".navigationbuttons").css({display:"none"});n.find(".esg-pagination").css({display:"none"})}else{n.find(".navigationbuttons").css({display:"inline-block"});n.find(".esg-pagination").css({display:"inline-block"})}var o=n.find(".esg-loadmore");if(o.length>0){var u=s(n,t).length;if(u>0)o.html(t.loadMoreTxt+" ("+u+")");else o.html(t.loadMoreEndTxt)}C(t);A(t);g(n,t)})});var u;e(window).resize(function(){clearTimeout(u);if(r.forceFullWidth=="on"||r.forceFullScreen=="on"){var t=n.parent().parent().find(".esg-relative-placeholder").offset().left;n.closest(".esg-container-fullscreen-forcer").css({left:0-t,width:e(window).width()})}else n.closest(".esg-container-fullscreen-forcer").css({left:0,width:"auto"});if(i.length>0){var s=i.outerWidth(true);punchgs.TweenLite.set(n.find(".esg-overflowtrick"),{width:n.width()-s})}var o=v(r,e(window).width(),"id");r.column=o.column;r.columnindex=o.index;g(n,r);u=setTimeout(function(){r=m(n);C(r);A(r);g(n,r)},200)});n.on("itemsinposition",function(){var n=e(this);var r=m(n);var i=n.find(".eg-leftright-container");if(r.maxheight>0&&r.maxheight<9999999999){r.inanimation=false;var s=n.find(".esg-overflowtrick").first();var o=n.find("ul").first();var i=n.find(".eg-leftright-container");var u=parseInt(s.css("paddingTop"),0);u=u==t?0:u;u=u==null?0:u;var a=parseInt(s.css("paddingBottom"),0);a=a==t?0:a;a=a==null?0:a;var f=r.maxheight+r.overflowoffset+u+a;if(r.forceFullScreen=="on"){var l=e(window).height();if(r.fullScreenOffsetContainer!=t){try{var c=r.fullScreenOffsetContainer.split(",");e.each(c,function(t,n){l=l-e(n).outerHeight(true);if(l<r.minFullScreenHeight)l=r.minFullScreenHeight})}catch(h){}}f=l}var p=.3;if(o.height()<200)p=1;punchgs.TweenLite.to(o,p,{force3D:"auto",height:f,ease:punchgs.Power3.easeInOut});punchgs.TweenLite.to(s,p,{force3D:"auto",height:f,ease:punchgs.Power3.easeInOut});if(i.length>0)punchgs.TweenLite.set(i,{minHeight:f,ease:punchgs.Power3.easeInOut});var d=n.find(".esg-navbutton-solo-left");var v=n.find(".esg-navbutton-solo-right");if(d.length>0)d.css({marginTop:0-d.height()/2});if(v.length>0)v.css({marginTop:0-v.height()/2})}});c(n);h(n)}function c(t){var n=m(t);t.find(".tp-esg-item").each(function(){var t=new Date(e(this).data("date"));e(this).data("date",t.getTime()/1e3)});t.find(".esg-sortbutton-order").each(function(){var t=e(this);t.removeClass("tp-desc").addClass("tp-asc");t.data("dir","asc")})}function h(t){opt=m(t);var n;t.find(".esg-sortbutton-wrapper .esg-sortbutton-order").click(function(){var r=e(this);if(r.hasClass("tp-desc")){r.removeClass("tp-desc").addClass("tp-asc");r.data("dir","asc")}else{r.removeClass("tp-asc").addClass("tp-desc");r.data("dir","desc")}var i=r.data("dir");q(true,true);t.find(".esg-sorting-select").each(function(){var r=e(this).val();clearTimeout(n);t.find(".tp-esg-item").tsort({data:r,forceStrings:"false",order:i});n=setTimeout(function(){opt=m(t);C(opt);A(opt);g(t,opt)},200)})});t.find(".esg-sorting-select").each(function(){var r=e(this);r.change(function(){t.find("iframe").css({visibility:"hidden"});t.find(".video-eg").css({visibility:"hidden"});var i=e(this).closest(".esg-sortbutton-wrapper").find(".esg-sortbutton-order");var s=r.val();var o=r.find("option:selected").text();var u=i.data("dir");q(true,true);clearTimeout(n);r.parent().parent().find(".sortby_data").text(o);t.find(".tp-esg-item").tsort({data:s,forceStrings:"false",order:u});n=setTimeout(function(){opt=m(t);C(opt);A(opt);g(t,opt)},500)})})}function p(e,n,r){if(n==t)n=e.find(".esg-entry-cover");if(r==t)r=e.find(".esg-entry-media");if(n&&r){var i=r.height();punchgs.TweenLite.set(n,{height:i});var s=e.find(".esg-cc");punchgs.TweenLite.set(s,{top:(i-s.height())/2})}}function d(n){n.find(".eg-handlehideunder").each(function(){var r=e(this);var i=r.data("hideunder");if(n.width()<i&&i!=t){if(r.css("display")!="none"){r.data("display",r.css("display"))}r.css({display:"none"})}else r.css({display:r.data("display")})})}function v(n,r,i){var s=r,o=0,u=9999,a=0,f=n.column,l=n.column,c=n.column,h=0,p=0;if(n.responsiveEntries!=t&&n.responsiveEntries.length>0)e.each(n.responsiveEntries,function(e,n){var r=n.width!=t?n.width:0,i=n.amount!=t?n.amount:0;if(u>r){u=r;f=i;p=e}if(a<r){a=r;lamount=i}if(r>o&&r<=s){o=r;c=i;h=e}});if(u>r){c=f;h=p}var d=new Object;d.index=h;d.column=c;if(i=="id")return d;else return c}function m(e){return e.data("opt")}function g(e,t){e.data("opt",t)}function y(t){t.find("iframe").each(function(t){var n=e(this);if(n.attr("src").toLowerCase().indexOf("youtube")>0)V(n);else if(n.attr("src").toLowerCase().indexOf("vimeo")>0)J(n);else if(n.attr("src").toLowerCase().indexOf("soundcloud")>0)Q(n)});t.find("video").each(function(t){Y(e(this))})}function b(t){var n=setInterval(function(){t.find("iframe").each(function(t){var r=e(this);if(r.attr("src").toLowerCase().indexOf("youtube")>0){if(V(r)){clearInterval(n)}}else if(r.attr("src").toLowerCase().indexOf("vimeo")>0){if(J(r)){clearInterval(n)}}else if(r.attr("src").toLowerCase().indexOf("soundcloud")>0){if(Q(r)){clearInterval(n)}}else clearInterval(n)});t.find("video").each(function(t){if(Y(e(this))){clearInterval(n)}})},50)}function w(e,t,n,r,i){var s=new Object;switch(e){case 0:s.x=0;s.y=t=="in"?0-r:10+r;s.y=i&&t=="in"?s.y-5:s.y;break;case 1:s.y=0;s.x=t=="in"?n:-10-n;s.x=i&&t=="in"?s.x+5:s.x;break;case 2:s.y=t=="in"?r:-10-r;s.x=0;s.y=i&&t=="in"?s.y+5:s.y;break;case 3:s.y=0;s.x=t=="in"?0-n:10+n;s.x=i&&t=="in"?s.x-5:s.x;break}return s}function E(e,t){var n=e.width(),r=e.height(),i=(t.x-e.offset().left-n/2)*(n>r?r/n:1),s=(t.y-e.offset().top-r/2)*(r>n?n/r:1),o=Math.round((Math.atan2(s,i)*(180/Math.PI)+180)/90+3)%4;return o}function S(r,i,s,o){if(r.data("simplevideo")!=1)y(r);var u=false;var a=r.find(".esg-media-poster");if(a.length>0){if(a.css("opacity")==0)u=true}if(r.find(".isplaying, .isinpause").length>0||u)return false;clearTimeout(r.data("hovertimer"));var f=s.mainhoverdelay;if(i=="set")f=0;r.data("hovertimer",setTimeout(function(){r.data("animstarted",1);punchgs.TweenLite.set(r,{z:.01,x:0,y:0,rotationX:0,rotationY:0,rotationZ:0});r.addClass("esg-hovered");var u=r.find(".esg-entry-cover");punchgs.TweenLite.set(u,{transformStyle:"flat"});if(i!="set")p(r,u);if(r.find(".esg-entry-content").length>0&&i!="set"&&s.layout=="even"){var a=r.data("pt"),f=r.data("pb"),l=r.data("pl"),c=r.data("pr"),h=r.data("bt"),d=r.data("bb"),v=r.data("bl"),m=r.data("br");r.data("hhh",r.outerHeight());r.data("www",r.outerWidth());punchgs.TweenLite.set(r.find(".esg-entry-content"),{display:"block"});punchgs.TweenLite.set(r.find(".esg-entry-media"),{height:r.data("hhh")});punchgs.TweenLite.set(r,{z:.1,zIndex:50,x:0-(l+c+m+v)/2,y:0-(a+f+h+d)/2,height:"auto",width:r.data("www")+l+c+v+m});r.css({paddingTop:a+"px",paddingLeft:l+"px",paddingRight:c+"px",paddingBottom:c+"px"});r.css({borderTopWidth:h+"px",borderBottomWidth:d+"px",borderLeftWidth:v+"px",borderRightWidth:m+"px"});if(s.inanimation!=true)punchgs.TweenLite.set(r.closest(".esg-overflowtrick"),{overflow:"visible"})}e.each(n,function(n,s){r.find(s[0]).each(function(){var n=e(this);var u=n.data("hideunder");if(r.width()<u&&u!=t){if(n.css("display")!="none"){n.data("display",n.css("display"))}n.css({display:"none"})}else{var a=n.data("delay")!=t?n.data("delay"):0;var f=s[2];var l=s[3];l.delay=a;l.overwrite="all";f.overwrite="all";l.transformStyle="flat";l.force3D=true;var c=0;var h=s[0].indexOf("out")>-1;if(!n.hasClass("esg-entry-media")&&!h)l.clearProps="transform";l.z=.001;if(l.transformPerspective==t)l.transformPerspective=1e3;if(n.hasClass("esg-overlay")){if(f.z==t)f.z=-.002;l.z=-10.0001}var p=n;var d=false;if(n.hasClass("esg-entry-media")&&n.find(".esg-media-video").length>0)return true;punchgs.TweenLite.killTweensOf(p,false);if(i=="set")punchgs.TweenLite.set(p,f);else switch(s[0]){case".esg-shifttotop":l.y=0-r.find(".esg-bc.eec").last().height();punchgs.TweenLite.fromTo(n,.5,{y:0},{y:l.y});break;case".esg-slide":var v=w(o,"in",r.width(),r.height());var m=new Object;var g=new Object;e.extend(m,f);e.extend(g,l);m.css.x=v.x;m.css.y=v.y;punchgs.TweenLite.fromTo(p,s[1],m,g,c);break;case".esg-slideout":var v=w(o,"out",r.width(),r.height());var m=new Object;var g=new Object;e.extend(m,f);e.extend(g,l);g.x=v.x;g.y=v.y;g.clearProps="";punchgs.TweenLite.fromTo(p,s[1],m,g,c);break;default:punchgs.TweenLite.fromTo(p,s[1],f,l,c);break}if(n.css("display")=="none")n.css({display:n.data("display")})}})})},f))}function x(n,r,i,s){n.css({transform:"none","-moz-transform":"none","-webkit-transform":"none"});n.closest(".esg-overflowtrick").css({transform:"none","-moz-transform":"none","-webkit-transform":"none"});n.closest("ul").css({transform:"none","-moz-transform":"none","-webkit-transform":"none"});if(!s)n.find(".esg-media-video").each(function(){var r=e(this);if(r.data("youtube")!=t&&n.find(".esg-youtube-frame").length==0){var i=n.find(".esg-entry-media");var s="https://www.youtube.com/embed/"+r.data("youtube")+"?version=3&enablejsapi=1&html5=1&controls=1&autohide=1&rel=0&showinfo=0";i.append('<iframe class="esg-youtube-frame" wmode="Opaque" style="position:absolute;top:0px;left:0px;display:none" width="'+r.attr("width")+'" height="'+r.attr("height")+'" data-src="'+s+'" src="about:blank"></iframe>')}if(r.data("vimeo")!=t&&n.find(".esg-vimeo-frame").length==0){var i=n.find(".esg-entry-media");var o="http://player.vimeo.com/video/"+r.data("youtube")+"?title=0&byline=0&html5=1&portrait=0&api=1;";i.append('<iframe class="esg-vimeo-frame"  allowfullscreen="false" style="position:absolute;top:0px;left:0px;display:none" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" width="'+r.attr("width")+'" height="'+r.attr("height")+'" data-src="'+o+'" src="about:blank"></iframe>')}if(r.data("soundcloud")!=t&&n.find(".esg-soundcloud-frame").length==0){var i=n.find(".esg-entry-media");var u="https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/"+r.data("soundcloud")+"&auto_play=false&hide_related=false&visual=true&show_artwork=true";i.append('<iframe class="esg-soundcloud-frame" allowfullscreen="false" style="position:absolute;top:0px;left:0px;display:none" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" width="'+r.attr("width")+'" height="'+r.attr("height")+'" scrolling="no" frameborder="no" data-src="'+u+'" src="about:blank"></iframe>')}if((r.data("mp4")!=t||r.data("webm")!=t||r.data("ogv")!=t)&&n.find(".esg-video-frame").length==0){var i=n.find(".esg-entry-media");i.append('<video class="esg-video-frame" style="position:absolute;top:0px;left:0px;display:none" width="'+r.attr("width")+'" height="'+r.attr("height")+'" data-origw="'+r.attr("width")+'" data-origh="'+r.attr("height")+'" ></video');if(r.data("mp4")!=t)i.find("video").append('<source src="'+r.data("mp4")+'" type="video/mp4" />');if(r.data("webm")!=t)i.find("video").append('<source src="'+r.data("webm")+'" type="video/webm" />');if(r.data("ogv")!=t)i.find("video").append('<source src="'+r.data("ogv")+'" type="video/ogg" />')}});N(n,true,null,i);var o=n.find(".esg-youtube-frame");if(o.length==0)o=n.find(".esg-vimeo-frame");if(o.length==0)o=n.find(".esg-soundcloud-frame");if(o.length==0)o=n.find(".esg-video-frame");var u=n.find(".esg-entry-cover");var a=n.find(".esg-media-poster");if(o.attr("src")=="about:blank"){o.attr("src",o.data("src"));F(r,i);if(!s)punchgs.TweenLite.set(o,{opacity:0,display:"block"});var f=setInterval(function(){if(o.attr("src").toLowerCase().indexOf("youtube")>0){if(V(o)==true){clearInterval(f);if(!s){punchgs.TweenLite.to(o,.5,{autoAlpha:1});punchgs.TweenLite.to(a,.5,{autoAlpha:0});punchgs.TweenLite.to(u,.5,{autoAlpha:0});$(o,s)}}}else if(o.attr("src").toLowerCase().indexOf("vimeo")>0){if(J(o)==true){clearInterval(f);if(!s){punchgs.TweenLite.to(o,.5,{autoAlpha:1});punchgs.TweenLite.to(a,.5,{autoAlpha:0});punchgs.TweenLite.to(u,.5,{autoAlpha:0});K(o,s)}}}else if(o.attr("src").toLowerCase().indexOf("soundcloud")>0){if(Q(o)==true){clearInterval(f);if(!s){punchgs.TweenLite.to(o,.5,{autoAlpha:1});punchgs.TweenLite.to(a,.5,{autoAlpha:0});punchgs.TweenLite.to(u,.5,{autoAlpha:0});G(o,s)}}}},100)}else if(o.hasClass("esg-video-frame")){F(r,i);punchgs.TweenLite.set(o,{opacity:0,display:"block"});var f=setInterval(function(){if(Y(o)==true){clearInterval(f);if(!s){punchgs.TweenLite.to(o,.5,{autoAlpha:1});punchgs.TweenLite.to(a,.5,{autoAlpha:0});punchgs.TweenLite.to(u,.5,{autoAlpha:0});Z(o,s)}}},100)}else{if(!s){punchgs.TweenLite.set(o,{opacity:0,display:"block"});punchgs.TweenLite.to(o,.5,{autoAlpha:1});punchgs.TweenLite.to(a,.5,{autoAlpha:0});punchgs.TweenLite.to(u,.5,{autoAlpha:0})}if(o.attr("src")!=t){if(o.attr("src").toLowerCase().indexOf("youtube")>0)$(o,s);if(o.attr("src").toLowerCase().indexOf("vimeo")>0)K(o,s);if(o.attr("src").toLowerCase().indexOf("soundcloud")>0)G(o,s)}}}function T(r,i){var s=r.container;s.addClass("esg-container");if(!i){s.find(".mainul>li").each(function(){e(this).addClass("eg-newli")})}var o=s.find(".mainul>.eg-newli"),u=100/r.column,a=r.aspectratio,f=s.find(".esg-overflowtrick").width(),l=s.find("ul").first(),c=s.find(".esg-overflowtrick").first(),h=0;a=a.split(":");aratio=parseInt(a[0],0)/parseInt(a[1],0);h=f/r.column/aratio;e.each(o,function(i,o){var u=e(o),a=u.find(".esg-entry-media"),f=a.find("img").attr("src");u.removeClass("eg-newli");punchgs.TweenLite.set(u,{force3D:"auto",autoAlpha:0,opacity:0});u.addClass("tp-esg-item");if(r.layout=="even"){if(f!=t){u.find(".esg-entry-media").wrap('<div class="esg-entry-media-wrapper" style="width:100%;height:100%; overflow:hidden;position:relative;"></div>');a.find("img").css({top:"0px",left:"0px",width:"100%",height:"auto",visibility:"visible",display:"block"})}}else{u.find(".esg-entry-media").wrap('<div class="esg-entry-media-wrapper" style="overflow:hidden;position:relative;"></div>')}u.find(".esg-media-video").each(function(){var n=e(this);var i=u.find(".esg-entry-media");var o="display:none;";var a="data-src=";var f="src=";if(n.data("poster")!=t&&n.data("poster").length>3){if(r.layout!="even"){i.append('<img class="esg-media-poster" src="'+n.data("poster")+'" width="'+n.attr("width")+'" height="'+n.attr("height")+'">');i.find("img").css({top:"0px",left:"0px",width:"100%",height:"auto",visibility:"visible",display:"block"})}else{i.append('<div class="esg-media-poster" style="background:url('+n.data("poster")+'); background-size:cover; background-position:center center">');i.find(".esg-media-poster").css({width:"100%",height:"100%",visibility:"visible",position:"relative",display:"block"})}}else{u.find(".esg-entry-cover").remove();o="display:block;";a="src=";f="data-src=";u.data("simplevideo",1)}if(u.find(".esg-click-to-play-video").length==0){u.find(".esg-entry-cover").find("*").each(function(){if(e(this).closest("a").length==0&&e(this).find("a").length==0){e(this).addClass("esg-click-to-play-video")}});u.find(".esg-overlay").addClass("esg-click-to-play-video")}if(n.data("youtube")!=t){var l="https://www.youtube.com/embed/"+n.data("youtube")+"?version=3&enablejsapi=1&html5=1&controls=1&autohide=1&rel=0&showinfo=0";i.append('<iframe class="esg-youtube-frame" wmode="Opaque" style="position:absolute;top:0px;left:0px;'+o+'" width="'+n.attr("width")+'" height="'+n.attr("height")+'" '+a+'"'+l+'" '+f+'"about:blank"></iframe>')}if(n.data("vimeo")!=t){var c="http://player.vimeo.com/video/"+n.data("vimeo")+"?title=0&byline=0&html5=1&portrait=0&api=1";i.append('<iframe class="esg-vimeo-frame" style="position:absolute;top:0px;left:0px;'+o+'" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""  width="'+n.attr("width")+'" height="'+n.attr("height")+'" '+a+'"'+c+'" '+f+'"about:blank"></iframe>')}if(n.data("soundcloud")!=t){var h="https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/"+n.data("soundcloud")+"&auto_play=false&hide_related=false&visual=true&show_artwork=true";i.append('<iframe class="esg-soundcloud-frame" style="position:absolute;top:0px;left:0px;'+o+'" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" width="'+n.attr("width")+'" height="'+n.attr("height")+'" '+a+'"'+h+'" '+f+'"about:blank"></iframe>')}if(n.data("mp4")!=t||n.data("webm")!=t||n.data("ogv")!=t){i.append('<video class="esg-video-frame" controls style="position:absolute;top:0px;left:0px;'+o+'" width="'+n.attr("width")+'" height="'+n.attr("height")+'" data-origw="'+n.attr("width")+'" data-origh="'+n.attr("height")+'"></video');if(n.data("mp4")!=t)i.find("video").append('<source src="'+n.data("mp4")+'" type="video/mp4" />');if(n.data("webm")!=t)i.find("video").append('<source src="'+n.data("webm")+'" type="video/webm" />');if(n.data("ogv")!=t)i.find("video").append('<source src="'+n.data("ogv")+'" type="video/ogg" />')}u.find(".esg-click-to-play-video").click(function(){var t=e(this).closest(".tp-esg-item");x(t,s,r)});if(u.data("simplevideo")==1)b(u)});if(u.find(".esg-media-video").length==0){u.find(".esg-click-to-play-video").remove()}N(u,true,null,r);if(u.find(".esg-entry-content").length>0&&u.find(".esg-media-cover-wrapper").length>0){if(u.find(".esg-entry-content").index()<u.find(".esg-media-cover-wrapper").index()){}else{u.find(".esg-entry-content").addClass("esg-notalone")}}u.find(".esg-entry-cover").each(function(){var t=e(this);t.find(".esg-top").wrapAll('<div class="esg-tc eec"></div>');t.find(".esg-left").wrapAll('<div class="esg-lc eec"></div>');t.find(".esg-right").wrapAll('<div class="esg-rc eec"></div>');t.find(".esg-center").wrapAll('<div class="esg-cc eec"></div>');t.find(".esg-bottom").wrapAll('<div class="esg-bc eec"></div>');t.find(".eec").append("<div></div>")});u.data("pt",parseInt(u.css("paddingTop"),0));u.data("pb",parseInt(u.css("paddingBottom"),0));u.data("pl",parseInt(u.css("paddingLeft"),0));u.data("pr",parseInt(u.css("paddingRight"),0));u.data("bt",parseInt(u.css("borderTopWidth"),0));u.data("bb",parseInt(u.css("borderBottomWidth"),0));u.data("bl",parseInt(u.css("borderLeftWidth"),0));u.data("br",parseInt(u.css("borderRightWidth"),0));if(u.find(".esg-entry-content").length>0&&r.layout=="even"){u.css({paddingTop:"0px",paddingLeft:"0px",paddingRight:"0px",paddingBottom:"0px"});u.css({borderTopWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"})}u.on("mouseenter.hoverdir, mouseleave.hoverdir",function(i){var s=e(this),o=E(s,{x:i.pageX,y:i.pageY});if(i.type==="mouseenter")S(e(this),"nope",r,o);else{clearTimeout(s.data("hovertimer"));if(s.data("animstarted")==1){s.data("animstarted",0);s.removeClass("esg-hovered");var u=s.find(".esg-entry-cover");var a=0;if(s.find(".esg-entry-content").length>0&&r.layout=="even"){punchgs.TweenLite.set(s.find(".esg-entry-content"),{display:"none"});punchgs.TweenLite.set(s,{zIndex:5});punchgs.TweenLite.set(s.closest(".esg-overflowtrick"),{overflow:"hidden"});s.css({paddingTop:"0px",paddingLeft:"0px",paddingRight:"0px",paddingBottom:"0px"});s.css({borderTopWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"});s.find(".esg-entry-media").css({height:"100%"});punchgs.TweenLite.set(s,{z:0,height:s.data("hhh"),width:s.data("www"),x:0,y:0})}e.each(n,function(n,r){s.find(r[0]).each(function(){var n=e(this);var i=n.data("delay")!=t?n.data("delay"):0;var u=r[5];var f=0;var l=n;var c=false;if(a<i)a=i;if(u.z==t)u.z=50;switch(r[0]){case".esg-slide":var h=w(o,"in",s.width(),s.height(),true);u.x=h.x;u.y=h.y;punchgs.TweenLite.to(l,.5,{y:u.y,x:u.x,overwrite:"all",onComplete:function(){punchgs.TweenLite.set(l,{autoAlpha:0})}});break;case".esg-slideout":var h=w(o,"out",s.width(),s.height());u.x=0;u.y=0;u.overwrite="all";punchgs.TweenLite.fromTo(l,.5,{autoAlpha:1,x:h.x,y:h.y},{x:0,y:0,autoAlpha:1,overwrite:"all"});break;default:u.force3D="auto";punchgs.TweenLite.to(l,r[4],u,f);break}})})}if(s.hasClass("esg-demo"))setTimeout(function(){S(s)},800)}});S(u,"set",r);if(u.hasClass("esg-demo"))S(u)});F(s,r);C(r);if(!i){punchgs.TweenLite.fromTo(l,.2,{autoAlpha:0,opacity:0},{force3D:"auto",autoAlpha:1,ease:punchgs.Power3.easeInOut});punchgs.TweenLite.fromTo(c,.2,{autoAlpha:0,opacity:0},{force3D:"auto",autoAlpha:1,ease:punchgs.Power3.easeInOut});l.css({display:"block"});c.css({display:"block"})}}function N(n,r,i,s){if(n.find("iframe").length>0){n.find("iframe").each(function(o){var u=e(this);u.data("origw",u.attr("width"));u.data("origh",u.attr("height"));var a=u.data("origw");var f=u.data("origh");if(i!=t)var l=i.itemw;else var l=n.width();ifh=l/a*f;l=Math.round(l);ifh=Math.round(ifh);u.data("neww",l);u.data("newh",ifh);if(r&&s.layout!="even"){punchgs.TweenLite.set(u,{width:l,height:ifh});punchgs.TweenLite.set(n.find(".esg-media-poster"),{width:l,height:ifh});punchgs.TweenLite.set(n.find(".esg-entry-media"),{width:l,height:ifh})}else{punchgs.TweenLite.set(u,{width:"100%",height:"100%"});punchgs.TweenLite.set(n.find(".esg-media-poster"),{width:"100%",height:"100%"});punchgs.TweenLite.set(n.find(".esg-entry-media"),{width:"100%",height:"100%"})}})}if(n.find(".esg-video-frame").length>0){n.find(".esg-video-frame").each(function(o){var u=e(this);u.parent().data("origw",u.data("origw"));u.parent().data("origh",u.data("origh"));var a=u.data("origw");var f=u.data("origh");if(i!=t)var l=i.itemw;else var l=n.width();ifh=l/a*f;l=Math.round(l);ifh=Math.round(ifh);u.data("neww",l);u.data("newh",ifh);if(r&&s.layout!="even"){punchgs.TweenLite.set(u,{width:l,height:ifh});punchgs.TweenLite.set(n.find(".esg-media-poster"),{width:l,height:ifh});punchgs.TweenLite.set(n.find(".esg-entry-media"),{width:l,height:ifh})}else{punchgs.TweenLite.set(u,{width:"100%",height:"100%"});punchgs.TweenLite.set(n.find(".esg-media-poster"),{width:"100%",height:"100%"});punchgs.TweenLite.set(n.find(".esg-entry-media"),{width:"100%",height:"100%"})}})}}function C(n){var r=n.container;var i=r.find(".mainul>li"),s=n.column*n.row;var o=n.rowItemMultiplier;var u=o.length;if(u>0)if(n.layout=="even"){s=0;for(var f=0;f<n.row;f++){var l=f-u*Math.floor(f/u);s=s+o[l][n.columnindex]}}var c=s*n.currentpage,h=r.find(".esg-overflowtrick").width(),p=c+s,d=r.find(".esg-filterbutton.selected"),y=0;if(r.find(".esg-filter-wrapper").length>0){e.each(i,function(t,r){var i=e(r);i.find(".esgbox").each(function(){if(n.lightBoxMode=="all")e(this).attr("rel","group");else e(this).attr("rel","")});var s=true;e.each(d,function(t,n){if(i.hasClass(e(n).data("filter")))s=false});if(y>=c&&y<p&&!s){i.addClass("itemtoshow").removeClass("itemishidden").removeClass("itemonotherpage");if(n.lightBoxMode=="filterpage"||n.lightBoxMode=="filterall")i.find(".esgbox").attr("rel","group");y++}else{if(n.lightBoxMode=="filterall")i.find(".esgbox").attr("rel","group");if(!s){if(y<c||y>=p){i.addClass("itemonotherpage");i.removeClass("itemtoshow");y++}else{i.addClass("itemtoshow").removeClass("itemishidden").removeClass("itemonotherpage");y++}i.addClass("fitsinfilter")}else{i.addClass("itemishidden").removeClass("itemtoshow").removeClass("fitsinfilter")}}})}else{e.each(i,function(t,r){var i=e(r);i.find(".esgbox").each(function(){if(n.lightBoxMode=="all")e(this).attr("rel","group");else e(this).attr("rel","")});if(y>=c&&y<p){i.addClass("itemtoshow").removeClass("itemishidden").removeClass("itemonotherpage");y++}else{if(y<c||y>=p){i.addClass("itemonotherpage");i.removeClass("itemtoshow");y++}else{i.addClass("itemtoshow").removeClass("itemishidden").removeClass("itemonotherpage");y++}i.addClass("fitsinfilter")}})}n.nonefiltereditems=r.find(".itemtoshow, .fitsinfilter").length;if(n.loadMoreType!="none"){var b=0;var w=false;d.each(function(){var n=e(this).data("filter");if(n!=t){var i=r.find("."+n).length;b=b+i;if(i==0)w=true}});if(d.length==0||d.length==1)b=1;if(b==0||w)a(r,n)}var E=r.find(".esg-pagination");E.find(".esg-pagination").remove();E.html("");n.maxpage=0;var S;var x=Math.ceil(n.nonefiltereditems/s);n.realmaxpage=x;if(x>7&&n.smartPagination=="on"){if(n.currentpage<3){for(var f=0;f<4;f++){if(f==n.currentpage)S="selected";else S="";n.maxpage++;E.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+S+'" data-page="'+f+'">'+(f+1)+"</div>")}E.append('<div class="esg-navigationbutton">...</div>');E.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+S+'" data-page="'+(x-1)+'">'+x+"</div>")}else if(x-n.currentpage<4){E.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+S+'" data-page="0">1</div>');E.append('<div class="esg-navigationbutton">...</div>');for(var f=x-4;f<x;f++){if(f==n.currentpage)S="selected";else S="";n.maxpage++;E.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+S+'" data-page="'+f+'">'+(f+1)+"</div>")}}else{E.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+S+'" data-page="0">1</div>');E.append('<div class="esg-navigationbutton">...</div>');for(var f=n.currentpage-1;f<n.currentpage+2;f++){if(f==n.currentpage)S="selected";else S="";n.maxpage++;E.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+S+'" data-page="'+f+'">'+(f+1)+"</div>")}E.append('<div class="esg-navigationbutton">...</div>');E.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+S+'" data-page="'+(x-1)+'">'+x+"</div>")}}else{for(var f=0;f<x;f++){if(f==n.currentpage)S="selected";else S="";n.maxpage++;E.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+S+'" data-page="'+f+'">'+(f+1)+"</div>")}}if(n.maxpage==1){r.find(".esg-navigationbutton").not(".esg-loadmore").css({display:"none"});E.css({display:"none"})}else{r.find(".esg-navigationbutton").css({display:"inline-block"});E.css({display:"inline-block"})}if(n.currentpage>=Math.ceil(n.nonefiltereditems/s)){n.oldpage=n.currentpage;n.currentpage=0;var T=0;r.find(".itemtoshow, .fitsinfilter").each(function(){T++;if(T<p)e(this).removeClass("itemonotherpage")});E.find(".esg-pagination-button").first().addClass("selected")}if(n.currentpage<0)n.currentpage=0;r.find(".esg-pagination-button").on("click",function(){n.oldpage=n.currentpage;n.currentpage=e(this).data("page");n=m(r);var t=v(n,e(window).width(),"id");n.column=t.column;n.columnindex=t.index;C(n);A(n);g(r,n);q(true)});if(n.firstshowever==t)r.find(".esg-navigationbutton").css({visibility:"hidden"})}function k(e,n){var r=n.aspectratio,i=parseInt(r[0],0)/parseInt(r[1],0);if(e.data("lazysrc")!=e.attr("src")&&e.data("lazysrc")!=t&&e.data("lazysrc")!="undefined"){if(e.data("lazysrc")!=t&&e.data("lazysrc")!="undefined"){e.attr("src",e.data("lazysrc"));var s=new Image;s.onload=function(t){e.data("lazydone",1);punchgs.TweenLite.to(e.parent().find(".lazyloadcover"),.3,{autoAlpha:0,onComplete:function(){e.parent().find(".lazyloadcover").remove()}});O(e,n);if(!e.closest(".mainul").hasClass("gridorganising"))M(n,true)};s.onerror=function(){punchgs.TweenLite.to(e.parent().find(".lazyloadcover"),.3,{autoAlpha:0,onComplete:function(){e.parent().find(".lazyloadcover").remove()}});e.data("lazydone",1)};s.src=e.attr("src");if(s.complete){e.data("lazydone",1);punchgs.TweenLite.to(e.parent().find(".lazyloadcover"),.3,{autoAlpha:0,onComplete:function(){e.parent().find(".lazyloadcover").remove()}});O(e,n);if(!e.closest(".mainul").hasClass("gridorganising"))M(n,true)}}}else{if((e.data("lazysrc")===t||e.data("lazysrc")==="undefined")&&e.data("lazysrc")!=1){var s=new Image;s.onload=function(){punchgs.TweenLite.to(e.parent().find(".lazyloadcover"),.3,{autoAlpha:0,onComplete:function(){e.parent().find(".lazyloadcover").remove()}});e.data("lazydone",1);O(e,n)};s.onerror=function(){e.data("lazydone",1)};if(e.attr("src")!=t&&e.attr("src")!="undefined"){s.src=e.attr("src")}else{s.src=e.data("src")}if(s.complete){e.data("lazydone",1);punchgs.TweenLite.to(e.parent().find(".lazyloadcover"),.3,{autoAlpha:0,onComplete:function(){e.parent().find(".lazyloadcover").remove()}});O(e,n)}}}}function A(e){var n=e.container;if(e.listneractivated==t){n.on("visibleimagesloaded",function(){M(e)});e.listneractivated=true;g(n,e)}L(n.find(".itemtoshow"),e)}function O(e,n,r){if(n.layout=="even"&&e.is(":visible")){var i=n.aspectratio;i=i.split(":");var s=parseInt(i[0],0)/parseInt(i[1],0);if(e.data("ww")==t&&e.data("lazydone")==1||n.forceFullScreen=="on"&&e.data("lazydone")==1||r){if(e.data("ww")==t){e.data("ww",e.width());e.data("hh",e.height())}var o=e.data("ww"),u=e.data("hh");var a=o/u;if(a>=s){var f=u/i[1];var l=u/f,c=o/f;var h=(c-i[0])/2;h=100/i[0]*h;e.css({position:"absolute",width:"auto",height:"101%",top:"0%",left:0-h+"%"})}else{var f=o/i[0];var l=u/f,c=o/f;var h=(l-i[1])/2;h=100/i[1]*h;e.css({position:"absolute",width:"101%",height:"auto",left:"0%",top:0-h+"%"})}}}}function M(e,n){var r=e.container;if(e.firstshowever==t){if(r.is(":hidden")){punchgs.TweenLite.fromTo(r,.3,{autoAlpha:0,display:"block"},{autoAlpha:1,display:"block"});setTimeout(function(){_(e,n);r.find(".esg-navigationbutton").css({visibility:"visible"})},300)}else{_(e,n);r.find(".esg-navigationbutton").css({visibility:"visible"})}e.firstshowever=1}else{_(e,n);r.find(".esg-navigationbutton").css({visibility:"visible"})}}function _(n,r){var i=n.container,s=i.find(".itemtoshow, .isvisiblenow").not(".ui-sortable-helper"),o=new Object,u=i.find("ul").first(),a=i.find(".esg-overflowtrick").first(),f=n.aspectratio,l,c=0;n.aspectratioOrig=n.aspectratio;i.find(".mainul").addClass("gridorganising");f=f.split(":");l=parseInt(f[0],0)/parseInt(f[1],0);o.item=0;o.pagetoanimate=0-n.currentpage;o.col=0;o.row=0;o.pagecounter=0;o.itemcounter=0;o.fakecol=0;o.fakerow=0;o.maxheight=0;o.allcol=0;o.allrow=0;o.ulcurheight=0;o.verticalsteps=1;o.currentcolumnheight=new Array;for(var h=0;h<n.column;h++)o.currentcolumnheight[h]=0;o.pageitemcounterfake=0;o.pageitemcounter=0;if(n.delayBasic!=t)o.delaybasic=n.delayBasic;else o.delaybasic=.08;o.anim=n.pageAnimation;o.itemtowait=0;o.itemouttowait=0;o.ease="punchgs.Power1.easeInOut";o.easeout=o.ease;o.row=0;o.col=0;var p=n.rowItemMultiplier,d=p.length,m=n.column;o.y=0;o.fakey=0;o.cwidth=i.find(".esg-overflowtrick").width()-n.overflowoffset*2;n.inanimation=true;o.cwidth_n_spaces=o.cwidth-(n.column-1)*n.space;o.itemw=Math.round(o.cwidth_n_spaces/n.column);o.originalitemw=o.itemw;if(n.forceFullScreen=="on"){c=e(window).height();if(n.fullScreenOffsetContainer!=t){try{var y=n.fullScreenOffsetContainer.split(",");e.each(y,function(t,r){c=c-e(r).outerHeight(true);if(c<n.minFullScreenHeight)c=n.minFullScreenHeight})}catch(b){}}}if(n.layout=="even"){o.itemh=c==0?o.cwidth_n_spaces/n.column/l:c/n.row;n.aspectratio=c==0?n.aspectratio:o.itemw+":"+o.itemh;if(d>0)punchgs.TweenLite.set(s,{display:"block",visibility:"visible",overwrite:"auto"});else punchgs.TweenLite.set(s,{display:"block",width:o.itemw,height:o.itemh,visibility:"visible",overwrite:"auto"})}else{punchgs.TweenLite.set(s,{display:"block",width:o.itemw,height:"auto",visibility:"visible",overwrite:"auto"})}if(!r){punchgs.TweenLite.killTweensOf(s)}o.originalitemh=o.itemh;var w=new Array,E=n.row*n.column*2;for(var S=0;S<E;S++){var x=new Array;for(var T=0;T<n.column;T++){x.push(0)}w.push(x)}e.each(s,function(r,s){var a=e(s);o.itemw=o.originalitemw;if(n.evenCobbles=="on"&&!a.hasClass("itemonotherpage")&&!a.hasClass("itemishidden")){var f=a.data("cobblesw"),h=a.data("cobblesh");f=f==t?1:f;h=h==t?1:h;if(n.column<f)f=n.column;o.cobblesorigw=o.originalitemw;o.cobblesorigh=o.originalitemh;o.itemw=o.itemw*f+(f-1)*n.space;o.itemh=o.originalitemh;o.itemh=o.itemh*h+(h-1)*n.space;var v=f+":"+h,m=false,g=0,y=0;switch(v){case"1:1":do{if(w[g][y]==0){w[g][y]="1:1";m=true;o.cobblesx=y;o.cobblesy=g}y++;if(y==n.column){y=0;g++}if(g>=E)m=true}while(!m);break;case"1:2":do{if(w[g][y]==0&&g<E-1&&w[g+1][y]==0){w[g][y]="2:1";w[g+1][y]="2:1";o.cobblesx=y;o.cobblesy=g;m=true}y++;if(y==n.column){y=0;g++}if(g>=E)m=true}while(!m);break;case"1:3":do{if(w[g][y]==0&&g<E-2&&w[g+1][y]==0&&w[g+2][y]==0){w[g][y]="1:3";w[g+1][y]="1:3";w[g+2][y]="1:3";o.cobblesx=y;o.cobblesy=g;m=true}y++;if(y==n.column){y=0;g++}if(g>=E)m=true}while(!m);break;case"2:1":do{if(w[g][y]==0&&y<n.column-1&&w[g][y+1]==0){w[g][y]="1:2";w[g][y+1]="1:2";o.cobblesx=y;o.cobblesy=g;m=true}y++;if(y==n.column){y=0;g++}if(g>=E)m=true}while(!m);break;case"3:1":do{if(w[g][y]==0&&y<n.column-2&&w[g][y+1]==0&&w[g][y+2]==0){w[g][y]="3:1";w[g][y+1]="3:1";w[g][y+2]="3:1";o.cobblesx=y;o.cobblesy=g;m=true}y++;if(y==n.column){y=0;g++}if(g>=E)m=true}while(!m);break;case"2:2":do{if(y<n.column-1&&g<E-1&&w[g][y]==0&&w[g][y+1]==0&&w[g+1][y]==0&&w[g+1][y+1]==0){w[g][y]="2:2";w[g+1][y]="2:2";w[g][y+1]="2:2";w[g+1][y+1]="2:2";o.cobblesx=y;o.cobblesy=g;m=true}y++;if(y==n.column){y=0;g++}if(g>=E)m=true}while(!m);break;case"3:2":do{if(y<n.column-2&&g<E-1&&w[g][y]==0&&w[g][y+1]==0&&w[g][y+2]==0&&w[g+1][y]==0&&w[g+1][y+1]==0&&w[g+1][y+2]==0){w[g][y]="3:2";w[g][y+1]="3:2";w[g][y+2]="3:2";w[g+1][y]="3:2";w[g+1][y+1]="3:2";w[g+1][y+2]="3:2";o.cobblesx=y;o.cobblesy=g;m=true}y++;if(y==n.column){y=0;g++}if(g>=E)m=true}while(!m);break;case"2:3":do{if(y<n.column-1&&g<E-2&&w[g][y]==0&&w[g][y+1]==0&&w[g+1][y]==0&&w[g+1][y+1]==0&&w[g+2][y]==0&&w[g+2][y+1]==0){w[g][y]="3:2";w[g][y+1]="3:2";w[g][y+2]="3:2";w[g+1][y]="3:2";w[g+1][y+1]="3:2";w[g+1][y+2]="3:2";o.cobblesx=y;o.cobblesy=g;m=true}y++;if(y==n.column){y=0;g++}if(g>=E)m=true}while(!m);break;case"3:3":do{if(y<n.column-2&&g<E-2&&w[g][y]==0&&w[g][y+1]==0&&w[g][y+2]==0&&w[g+1][y]==0&&w[g+1][y+1]==0&&w[g+1][y+2]==0&&w[g+2][y]==0&&w[g+2][y+1]==0&&w[g+2][y+2]==0){w[g][y]="3:2";w[g][y+1]="3:2";w[g][y+2]="3:2";w[g+1][y]="3:2";w[g+1][y+1]="3:2";w[g+1][y+2]="3:2";w[g+2][y]="3:2";w[g+2][y+1]="3:2";w[g+2][y+2]="3:2";o.cobblesx=y;o.cobblesy=g;m=true}y++;if(y==n.column){y=0;g++}if(g>=E)m=true}while(!m);break}n.aspectratio=o.itemw+":"+o.itemh;punchgs.TweenLite.set(a,{width:o.itemw,height:o.itemh,overwrite:"auto"});var b=a.find(".esg-entry-media").find("img");if(b.length>0)O(b,n,true)}else{var S=o.row-d*Math.floor(o.row/d);if(n.layout=="even"&&d>0){n.column=p[S][n.columnindex];o.cwidth=i.find(".esg-overflowtrick").width()-n.overflowoffset*2;o.cwidth_n_spaces=o.cwidth-(n.column-1)*n.space;o.itemw=Math.round(o.cwidth_n_spaces/n.column);o.itemh=c==0?o.cwidth_n_spaces/n.column/l:c/n.row;n.aspectratio=c==0?n.aspectratio:o.itemw+":"+o.itemh;punchgs.TweenLite.set(a,{width:o.itemw,height:o.itemh,overwrite:"auto"})}}if(n.layout=="even"){var b=a.find(".esg-entry-media").find("img");if(b.length>0)O(b,n)}else{if(a.hasClass("itemtoshow"))if(a.width()!=o.itemw||a.css("opacity")==0||a.css("visibility")=="hidden")o=D(a,o,i);else{N(a,true,o,n);o.itemh=a.height()}else{N(a,true,o,n);o.itemh=a.height()}}o=P(s,n,o);o.itemcounter++;if(u.height()<o.maxheight)i.trigger("itemsinposition")});n.aspectratio=n.aspectratioOrig;if(o.itemtowait==0){n.container.trigger("itemsinposition");i.find(".mainul").removeClass("gridorganising")}var C=v(n,e(window).width(),"id");n.column=C.column;n.columnindex=C.index;n.maxheight=o.maxheight;n.container.trigger("itemsinposition");n.inanimation=true;n.started=false;n.filterchanged=false;n.silent=false;n.silentout=false;n.changedAnim="";g(i,n);var k=i.parent().parent().find(".esg-loader");if(k.length>0)punchgs.TweenLite.to(k,.2,{autoAlpha:0})}function D(e,t,n){N(e,true,t,n.data("opt"));t.itemh=e.outerHeight(true);return t}function P(n,r,i){var s=e(n),o=["fade","scale","vertical-flip","horizontal-flip","vertical-flipbook","horizontal-flipbook","fall","rotatefall","rotatescale","stack"],u=["horizontal-slide","horizontal-harmonica"],a=["vertical-slide","vertical-harmonica"];i.skipanim=false;i.x=Math.round(i.col*i.itemw);if(r.layout=="even"){}else{i.idealcol=0;i.backupcol=i.col;for(var f=0;f<r.column;f++)if(i.currentcolumnheight[i.idealcol]>i.currentcolumnheight[f])i.idealcol=f;i.y=i.currentcolumnheight[i.idealcol];i.x=Math.round(i.idealcol*i.itemw)+i.idealcol*r.space;i.col=i.idealcol;if(i.itemh==t)i.itemh=0}if(i.cobblesx!=t){i.x=i.cobblesx*i.cobblesorigw;i.y=i.cobblesy*i.cobblesorigh}i.waits=i.col*i.delaybasic+i.row*i.delaybasic*r.column;i.speed=r.animSpeed;i.inxrot=0;i.inyrot=0;i.outxrot=0;i.outyrot=0;i.inorigin="center center";i.outorigin="center center";i.itemh=Math.round(i.itemh);i.scale=1;i.outfade=0;i.infade=0;if(s.hasClass("itemonotherpage"))i.skipanim=true;if(i.anim=="horizontal-slide"){i.waits=0;i.hsoffset=0-i.cwidth-parseInt(r.space);i.hsoffsetout=0-i.cwidth-parseInt(r.space);if(r.oldpage!=t&&r.oldpage>r.currentpage){i.hsoffset=i.cwidth+parseInt(r.space);i.hsoffsetout=i.cwidth+parseInt(r.space)}}else if(i.anim=="vertical-slide"){i.waits=0;i.maxcalcheight=r.row*r.space+r.row*i.itemh;i.vsoffset=i.maxcalcheight+parseInt(r.space);i.vsoffsetout=i.maxcalcheight+parseInt(r.space);if(r.oldpage!=t&&r.oldpage>r.currentpage){i.vsoffset=0-i.maxcalcheight-parseInt(r.space);i.vsoffsetout=0-i.maxcalcheight-parseInt(r.space)}}i.outwaits=i.waits;if(r.layout=="even"&&i.cobblesx==t){i.x=i.x+i.col*r.space}if(i.cobblesx!=t){i.x=i.x+i.cobblesx*r.space;i.y=i.y+i.cobblesy*r.space}if(i.anim=="vertical-flip"||i.anim=="horizontal-flip"||i.anim=="vertical-flipbook"||i.anim=="horizontal-flipbook")i=H(s,i,r);if(i.anim=="vertical-flip"){i.inxrot=-180;i.outxrot=180}else if(i.anim=="horizontal-flip"){i.inyrot=-180;i.outyrot=180}i.outspeed=i.speed;if(r.animDelay=="off"){i.waits=0;i.outwaits=0}if(i.anim=="scale"){i.scale=0}else if(i.anim=="vertical-flipbook"){i.inxrot=-90;i.outxrot=90;i.inorigin="center top";i.outorigin="center bottom";i.waits=i.waits+i.speed/3;i.outfade=1;i.infade=1;i.outspeed=i.speed/1.2;i.ease="Sine.easeOut";i.easeout="Sine.easeIn";if(r.animDelay=="off"){i.waits=i.speed/3;i.outwaits=0}}else if(i.anim=="horizontal-flipbook"){i.inyrot=-90;i.outyrot=-90;i.inorigin="left center";i.outorigin="right center";i.waits=i.waits+i.speed/2.4;i.outfade=1;i.infade=1;i.outspeed=i.speed/1.2;i.ease="Sine.easeOut";i.easeout="Sine.easeIn";if(r.animDelay=="off"){i.waits=i.speed/3;i.outwaits=0}}else if(i.anim=="fall"||i.anim=="rotatefall"){i.outoffsety=100;i=H(s,i,r);i.outfade=0}if(i.anim=="rotatefall"){i.rotatez=20;i.outorigin="left top";i.outfade=1;i.outoffsety=600}else if(i.anim=="rotatescale"){i.scale=0;i.inorigin="left bottom";i.outorigin="center center";i.faeout=1;i.outoffsety=100;i=H(s,i,r)}else if(i.anim=="stack"){i.scale=0;i.inorigin="center center";i.faeout=1;i.ease="punchgs.Power3.easeOut";i=H(s,i,r);i.ease="Back.easeOut"}if(r.silent){i.waits=0;i.outwaits=0;i.speed=0;i.outspeed=0}if(r.silentout){i.outwaits=0;i.outspeed=.4;i.speed=.4;i.ease="punchgs.Power3.easeOut";i.easeout=i.ease}i.hooffset=r.overflowoffset;i.vooffset=r.overflowoffset;if(i.itemw+i.x-i.cwidth<20&&i.itemw+i.x-i.cwidth>-20){var l=i.itemw+i.x-i.cwidth;i.itemw=i.itemw-l}if((s.hasClass("itemtoshow")||s.hasClass("fitsinfilter"))&&!i.skipanim){s.addClass("isvisiblenow");if(r.layout!="even"){i.currentcolumnheight[i.idealcol]=i.currentcolumnheight[i.idealcol]+i.itemh+parseInt(r.space);if(i.ulcurheight<i.currentcolumnheight[i.idealcol]){i.ulcurheight=i.currentcolumnheight[i.idealcol]}}else{i.ulcurheight=i.y+i.itemh}if(i.maxheight<i.ulcurheight){i.maxheight=i.ulcurheight}i.itemtowait++;var c=Math.round(i.hooffset+i.x);var h=Math.round(i.vooffset+i.y);if(s.css("opacity")==0&&i.anim=="fade"){punchgs.TweenLite.set(s,{opacity:0,autoAlpha:0,width:i.itemw,height:i.itemh,scale:1,left:c,y:0,top:h,overwrite:"all"})}else if(s.css("opacity")==0&&i.anim=="scale"){punchgs.TweenLite.set(s,{width:i.itemw,height:i.itemh,scale:0,left:c,y:0,top:h,overwrite:"all"})}else if(s.css("opacity")==0&&i.anim=="rotatescale")punchgs.TweenLite.set(s,{width:i.itemw,height:i.itemh,scale:1,left:c,top:h,x:"150%",y:"150%",rotationZ:20,overwrite:"all"});else if(s.css("opacity")==0&&i.anim=="fall")punchgs.TweenLite.set(s,{width:i.itemw,height:i.itemh,scale:.5,left:c,top:h,y:0,overwrite:"all"});else if(s.css("opacity")==0&&i.anim=="rotatefall")punchgs.TweenLite.set(s,{autoAlpha:0,width:i.itemw,height:i.itemh,left:c,rotationZ:0,top:h,y:0,overwrite:"all"});if(s.css("opacity")==0&&(i.anim=="vertical-flip"||i.anim=="horizontal-flip"||i.anim=="vertical-flipbook"||i.anim=="horizontal-flipbook"))punchgs.TweenLite.set(s,{autoAlpha:i.infade,zIndex:10,scale:1,y:0,transformOrigin:i.inorigin,rotationX:i.inxrot,rotationY:i.inyrot,width:i.itemw,height:i.itemh,left:c,top:h,overwrite:"all"});if(i.anim=="stack")punchgs.TweenLite.set(s,{zIndex:i.pageitemcounter,scale:.5,autoAlpha:1,left:c,top:h});if(i.anim=="horizontal-slide"&&s.css("opacity")==0){punchgs.TweenLite.set(s,{autoAlpha:1,left:Math.round(i.hooffset+(i.x-i.hsoffset)),top:h,width:i.itemw,height:i.itemh})}if(i.anim=="vertical-slide"&&s.css("opacity")==0)punchgs.TweenLite.set(s,{autoAlpha:1,left:c,top:Math.round(i.vooffset+i.y-i.vsoffset),width:i.itemw,height:i.itemh});var p=s.find(".esg-entry-cover");var d=s.find(".esg-entry-media");if(p&&d){var v=d.height();var m=s.find(".esg-cc");punchgs.TweenLite.to(p,.01,{height:v,ease:i.ease,delay:i.waits});punchgs.TweenLite.to(m,.01,{top:(v-m.height())/2,ease:i.ease,delay:i.waits})}punchgs.TweenLite.to(s,i.speed,{force3D:"auto",autoAlpha:1,scale:1,transformOrigin:i.inorigin,rotationX:0,rotationY:0,y:0,x:0,z:.1,rotationZ:0,left:c,top:h,ease:i.ease,delay:i.waits,onComplete:function(){if(s.hasClass("itemtoshow")){punchgs.TweenLite.set(s,{autoAlpha:1,overwrite:"all"})}i.itemtowait--;if(i.itemtowait==0){r.container.trigger("itemsinposition");s.closest(".mainul").removeClass("gridorganising")}}});if(s.find("iframe").length>0){s.find("iframe").each(function(){var t=e(this);var n=Math.round(t.data("neww"));var i=Math.round(t.data("newh"));if(r.layout!="even"){punchgs.TweenLite.set(s.find(".esg-media-poster"),{width:n,height:i});punchgs.TweenLite.set(s.find("iframe"),{width:n,height:i})}else{punchgs.TweenLite.set(s.find(".esg-media-poster"),{width:"100%",height:"100%"});punchgs.TweenLite.set(s.find("iframe"),{width:"100%",height:"100%"})}})}if(s.find(".video-eg").length>0){s.find(".video-eg").each(function(){var t=e(this);var n=t.data("neww");var i=t.data("newh");if(r.layout!="even"){punchgs.TweenLite.set(s.find(".esg-media-poster"),{width:n,height:i});punchgs.TweenLite.set(s.find(".esg-entry-media"),{width:n,height:i});punchgs.TweenLite.set(s.find(".video-eg"),{width:n,height:i})}else{punchgs.TweenLite.set(s.find(".esg-media-poster"),{width:"100%",height:"100%"});punchgs.TweenLite.set(s.find(".esg-entry-media"),{width:"100%",height:"100%"});punchgs.TweenLite.set(s.find(".video-eg"),{width:"100%",height:"100%"})}})}if(r.layout=="masonry")i.col=i.backupcol;i=B(i,r,s)}else{i.itemouttowait++;punchgs.TweenLite.set(s,{zIndex:5});s.removeClass("isvisiblenow");if(s.css("opacity")>0){if(i.anim=="stack"){punchgs.TweenLite.set(s,{zIndex:i.pageitemcounterfake+100});punchgs.TweenLite.to(s,i.outspeed/2,{force3D:"auto",x:-20-i.itemw,rotationY:30,rotationX:10,ease:Sine.easeInOut,delay:i.outwaits});punchgs.TweenLite.to(s,.01,{force3D:"auto",zIndex:i.pageitemcounterfake,delay:i.outwaits+i.outspeed/3});punchgs.TweenLite.to(s,i.outspeed*.2,{force3D:"auto",delay:i.outwaits+i.outspeed*.9,autoAlpha:0,ease:Sine.easeInOut});punchgs.TweenLite.to(s,i.outspeed/3,{zIndex:2,force3D:"auto",x:0,scale:.9,rotationY:0,rotationX:0,ease:Sine.easeInOut,delay:i.outwaits+i.outspeed/1.4,onComplete:function(){if(!s.hasClass("itemtoshow"))punchgs.TweenLite.set(s,{autoAlpha:0,overwrite:"all",display:"none"});i.itemouttowait--;if(i.itemouttowait==0){r.container.trigger("itemsinposition")}}});}else if(i.anim=="horizontal-flipbook"||i.anim=="vertical-flipbook"){punchgs.TweenLite.to(s,i.outspeed,{force3D:"auto",zIndex:2,scale:i.scale,autoAlpha:i.outfade,transformOrigin:i.outorigin,rotationX:i.outxrot,rotationY:i.outyrot,ease:i.easeout,delay:i.outwaits,onComplete:function(){if(!s.hasClass("itemtoshow"))punchgs.TweenLite.set(s,{autoAlpha:0,overwrite:"all",display:"none"});i.itemouttowait--;if(i.itemouttowait==0){r.container.trigger("itemsinposition")}}})}else if(i.anim=="fall")punchgs.TweenLite.to(s,i.outspeed,{zIndex:2,force3D:"auto",y:i.outoffsety,autoAlpha:0,ease:i.easeout,delay:i.outwaits,onComplete:function(){if(!s.hasClass("itemtoshow"))punchgs.TweenLite.set(s,{autoAlpha:0,overwrite:"all",display:"none"});i.itemouttowait--;if(i.itemouttowait==0){r.container.trigger("itemsinposition")}}});else if(i.anim=="horizontal-slide")punchgs.TweenLite.to(s,i.outspeed,{zIndex:2,force3D:"auto",autoAlpha:1,left:i.hooffset+s.position().left+i.hsoffsetout,top:i.vooffset+s.position().top,ease:i.easeout,delay:i.outwaits,onComplete:function(){punchgs.TweenLite.set(s,{autoAlpha:0,overwrite:"all",display:"none"});i.itemouttowait--;if(i.itemouttowait==0){r.container.trigger("itemsinposition")}}});else if(i.anim=="vertical-slide")punchgs.TweenLite.to(s,i.outspeed,{zIndex:2,force3D:"auto",autoAlpha:1,left:i.hooffset+s.position().left,top:i.vooffset+s.position().top+i.vsoffsetout,ease:i.easeout,delay:i.outwaits,onComplete:function(){punchgs.TweenLite.set(s,{autoAlpha:0,overwrite:"all",display:"none"});i.itemouttowait--;if(i.itemouttowait==0){r.container.trigger("itemsinposition")}}});else if(i.anim=="rotatefall"&&s.css("opacity")>0){punchgs.TweenLite.set(s,{zIndex:300-i.item});punchgs.TweenLite.to(s,i.outspeed/2,{force3D:"auto",transformOrigin:i.outorigin,ease:"punchgs.Bounce.easeOut",rotationZ:i.rotatez,delay:i.outwaits});punchgs.TweenLite.to(s,i.outspeed/2,{zIndex:2,force3D:"auto",autoAlpha:0,y:i.outoffsety,ease:punchgs.Power3.easeIn,delay:i.outwaits+i.outspeed/3})}else punchgs.TweenLite.to(s,i.outspeed,{force3D:"auto",zIndex:2,scale:i.scale,autoAlpha:i.outfade,transformOrigin:i.outorigin,rotationX:i.outxrot,rotationY:i.outyrot,ease:i.easeout,delay:i.outwaits,onComplete:function(){if(!s.hasClass("itemtoshow"))punchgs.TweenLite.set(s,{autoAlpha:0,overwrite:"all",display:"none"});i.itemouttowait--;if(i.itemouttowait==0){r.container.trigger("itemsinposition")}}})}else{punchgs.TweenLite.set(s,{zIndex:2,scale:i.scale,autoAlpha:0,transformOrigin:i.outorigin,rotationX:i.outxrot,rotationY:i.outyrot,onComplete:function(){if(!s.hasClass("itemtoshow"))punchgs.TweenLite.set(s,{autoAlpha:0,overwrite:"all",display:"none"});i.itemouttowait--;if(i.itemouttowait==0){r.container.trigger("itemsinposition")}}})}i=j(i,r)}return i}function H(e,n,r){if((e.hasClass("itemtoshow")||e.hasClass("fitsinfilter"))&&!n.skipanim){}else{var i=e.data("col");var s=e.data("row");if(i==t||s==t){if(n.x!=0&&n.y!=0){n.x=Math.round(n.fakecol*n.itemw);n.y=n.fakey;i=n.fakecol;s=n.fakerow;e.data("col",n.fakecol);e.data("row",n.fakerow)}}if(n.anim=="rotatefall"){n.outwaits=(r.column-i)*n.delaybasic+s*n.delaybasic*r.column}else{n.outwaits=i*n.delaybasic+s*n.delaybasic*r.column}}return n}function B(e,t,n){n.data("col",e.col);n.data("row",e.row);e.pageitemcounter++;e.col=e.col+e.verticalsteps;e.allcol++;if(e.col==t.column){e.col=0;e.row++;e.allrow++;e.y=parseFloat(e.y)+parseFloat(e.itemh)+parseFloat(t.space);if(e.row==t.row){e.row=0;if(e.pageitemcounter>=t.column*t.row)e.pageitemcounter=0;e.pagetoanimate=e.pagetoanimate+1;e.pagecounter++;if(e.pageitemcounter==0)for(var r=0;r<t.column;r++)e.currentcolumnheight[r]=0}}return e}function j(e,t){e.fakecol=e.fakecol+1;e.pageitemcounterfake++;if(e.fakecol==t.column){e.fakecol=0;e.fakerow++;e.fakey=e.fakey+e.itemh+t.space;if(e.fakerow==t.row){e.fakerow=0;e.pageitemcounterfake=0;}}return e}function F(t,n){var r=0;var i=0;var s=0;var o=0;var u="http";if(location.protocol==="https:"){u="https"}t.find("iframe").each(function(t){try{if(e(this).attr("src").indexOf("you")>0&&r==0){r=1;var n=document.createElement("script");var i="https";n.src=i+"://www.youtube.com/iframe_api";var s=document.getElementsByTagName("script")[0];var o=true;e("head").find("*").each(function(){if(e(this).attr("src")==i+"://www.youtube.com/iframe_api")o=false});if(o){s.parentNode.insertBefore(n,s)}}}catch(u){}});t.find("iframe").each(function(t){try{if(e(this).attr("src").indexOf("vim")>0&&i==0){i=1;var n=document.createElement("script");n.src=u+"://a.vimeocdn.com/js/froogaloop2.min.js";var r=document.getElementsByTagName("script")[0];var s=true;e("head").find("*").each(function(){if(e(this).attr("src")==u+"://a.vimeocdn.com/js/froogaloop2.min.js")s=false});if(s)r.parentNode.insertBefore(n,r)}}catch(o){}});t.find("iframe").each(function(t){try{if(e(this).attr("src").indexOf("soundcloud")>0&&o==0){o=1;var n=document.createElement("script");n.src=u+"://w.soundcloud.com/player/api.js";var r=document.getElementsByTagName("script")[0];var i=true;e("head").find("*").each(function(){if(e(this).attr("src")==u+"://w.soundcloud.com/player/api.js")i=false});if(i)r.parentNode.insertBefore(n,r)}}catch(s){}});var a={youtube:r,vimeo:i,soundcloud:o,htmlvid:s};return a}function I(){var e=new Date;var t=Math.floor(e)/1e3;var n=Math.floor(t/60);var r=Math.floor(n/60);var i=Math.floor(r/24);var r=r-i*24;var n=n-i*24*60-r*60;var t=t-i*24*60*60-r*60*60-n*60;return r+":"+n+":"+t}function q(t,n,r){var i=".isplaying";if(t)i="";e(".esg-youtubevideo.haslistener"+i).each(function(n){var i=e(this);var s=i.data("player");if(r!=i.attr("id")){s.pauseVideo();if(t)R(i,true,s,"youtube")}});e(".esg-vimeovideo.haslistener"+i).each(function(n){var i=e(this);var s=i.attr("id");var o=$f(s);if(r!=s){o.api("pause");if(t)R(i,true,o,"vimeo")}});e(".esg-htmlvideo.haslistener"+i).each(function(n){var i=e(this);var s=i.attr("id");var o=document.getElementById(s);if(r!=s){o.pause();if(t)R(i,true,o,"html5vid")}});e(".esg-soundcloud"+i).each(function(n){var i=e(this);var s=i.data("player");if(r!=i.attr("id")){s.pause();if(t)R(i,true,s,"soundcloud")}})}function R(t,n,r,i){t.removeClass("isplaying");var s=t.closest(".tp-esg-item");if(s.find(".esg-media-video").length>0&&!e("body").data("fullScreenMode")){var o=s.find(".esg-entry-cover");var u=s.find(".esg-media-poster");if(u.length>0){punchgs.TweenLite.to(o,.5,{autoAlpha:1});punchgs.TweenLite.to(u,.5,{autoAlpha:1});punchgs.TweenLite.to(t,.5,{autoAlpha:0});if(n){if(i=="youtube")try{r.destroy()}catch(a){}else if(i=="vimeo")try{r.api("unload")}catch(a){}else if(i!="html5vid"){t.removeClass("haslistener");t.removeClass("readytoplay")}}else{setTimeout(function(){t.css({display:"none"})},500)}}}}function U(t){var n=t.target.getVideoEmbedCode();var r=e("#"+n.split('id="')[1].split('"')[0]);var i=r.data("player");if(t.data==YT.PlayerState.PLAYING){i.setPlaybackQuality("hd1080");q(true,false,r.attr("id"));r.addClass("isplaying");r.removeClass("isinpause")}if(t.data==2){R(r)}if(t.data==0){R(r)}}function z(t){var n=$f(t);var r=e("#"+t);n.addEvent("ready",function(e){r.addClass("readytoplay");n.addEvent("play",function(e){q(true,false,t);r.addClass("isplaying");r.removeClass("isinpause")});n.addEvent("finish",function(e){R(r);r.removeClass("isplaying")});n.addEvent("pause",function(e){R(r);r.removeClass("isplaying")})})}function W(e,t,n){if(e.addEventListener)e.addEventListener(t,n,false);else e.attachEvent(t,n,false)}function X(e,t,n){t.addClass("readytoplay");t.on("play",function(){q(true,false,n);t.addClass("isplaying");t.removeClass("isinpause")});t.on("pause",function(){R(t);t.removeClass("isplaying")});t.on("ended",function(){R(t);t.removeClass("isplaying")})}function V(e){var n="ytiframe"+Math.round(Math.random()*1e5+1);if(!e.hasClass("haslistener")&&typeof YT!="undefined"){try{e.attr("id",n);var r=new YT.Player(n,{events:{onStateChange:U}});e.data("player",r);e.addClass("haslistener").addClass("esg-youtubevideo")}catch(i){return false}}else{var r=e.data("player");if(r!=t)if(typeof r.playVideo=="function")return true;else return false;else return false}}function $(e){var n=e.data("player");if(n!=t)if(typeof n.playVideo=="function")n.playVideo()}function J(e){if(!e.hasClass("haslistener")&&typeof $f!="undefined"){try{var n="vimeoiframe"+Math.round(Math.random()*1e5+1);e.attr("id",n);var r=e.attr("src");var i={},s=r,o=/([^&=]+)=([^&]*)/g,u;while(u=o.exec(s)){i[decodeURIComponent(u[1])]=decodeURIComponent(u[2])}if(i["player_id"]!=t)r=r.replace(i["player_id"],n);else r=r+"&player_id="+n;try{r=r.replace("api=0","api=1")}catch(a){}r=r+"&api=1";e.attr("src",r);var f=e[0];$f(f).addEvent("ready",function(){z(n)});e.addClass("haslistener").addClass("esg-vimeovideo")}catch(a){return false}}else{if(typeof $f!=t&&typeof $f!="undefined"){var l=$f(e.attr("id"));if(typeof l.api=="function"&&e.hasClass("readytoplay"))return true;else return false}else{return false}}}function K(e){var t=$f(e.attr("id"));t.api("play")}function Q(e){if(e.data("player")==t&&typeof SC!="undefined"){var n="sciframe"+Math.round(Math.random()*1e5+1);try{e.attr("id",n);var r=SC.Widget(n);r.bind(SC.Widget.Events.PLAY,function(){q(true,false,e.attr("id"));e.addClass("isplaying");e.removeClass("isinpause")});r.bind(SC.Widget.Events.PAUSE,function(){R(e);e.removeClass("isplaying")});r.bind(SC.Widget.Events.FINISH,function(){R(e);e.removeClass("isplaying")});e.data("player",r);e.addClass("haslistener").addClass("esg-soundcloud")}catch(i){return false}}else{var r=e.data("player");if(r!=t){if(typeof r.getVolume=="function"){return true}else{return false}}else return false}}function G(e){var n=e.data("player");if(n!=t){if(typeof n.getVolume=="function"){setTimeout(function(){n.play()},500)}}}function Y(e){if(!e.hasClass("haslistener")){var t="videoid_"+Math.round(Math.random()*1e5+1);e.attr("id",t);var n=document.getElementById(t);n.oncanplay=X(n,e,t);e.addClass("haslistener").addClass("esg-htmlvideo")}else{try{var r=e.attr("id");var n=document.getElementById(r);if(typeof n.play=="function"&&e.hasClass("readytoplay"))return true;else return false}catch(i){return false}}}function Z(e){var t=e.attr("id");var n=document.getElementById(t);n.play()}var n=[[".esg-none",0,{autoAlpha:1,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},0,{autoAlpha:1,overwrite:"all"}],[".esg-fade",.3,{autoAlpha:0,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-fadeout",.3,{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},{autoAlpha:0,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},.3,{autoAlpha:1,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-covergrowup",.3,{autoAlpha:1,top:"100%",marginTop:-10,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,top:"0%",marginTop:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:1,top:"100%",marginTop:-10,bottom:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"},true],[".esg-flipvertical",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationX:180,autoAlpha:0,z:-.001,transformOrigin:"50% 50%"},{rotationX:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationX:180,autoAlpha:0,scale:1,z:-.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},true],[".esg-flipverticalout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationX:0,autoAlpha:1,z:.001,transformOrigin:"50% 50%"},{rotationX:-180,scale:1,autoAlpha:0,z:-150,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationX:0,autoAlpha:1,scale:1,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-fliphorizontal",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationY:180,autoAlpha:0,z:-.001,transformOrigin:"50% 50%"},{rotationY:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationY:180,autoAlpha:0,scale:1,z:-.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},true],[".esg-fliphorizontalout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,z:.001,transformOrigin:"50% 50%"},{rotationY:-180,scale:1,autoAlpha:0,z:-150,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationY:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-flipup",.5,{x:0,y:0,scale:.8,rotationZ:0,rotationX:90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 100%"},{scale:1,rotationX:0,autoAlpha:1,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:.8,rotationX:90,autoAlpha:0,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"},true],[".esg-flipupout",.5,{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"},{x:0,y:0,scale:1,rotationZ:0,rotationX:-90,rotationY:0,skewX:0,skewY:0,autoAlpha:1,z:.001,transformOrigin:"50% 0%"},.3,{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"}],[".esg-flipdown",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:-90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 0%"},{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"},.3,{rotationX:-90,z:0,ease:punchgs.Power2.easeOut,autoAlpha:0,overwrite:"all"},true],[".esg-flipdownout",.5,{scale:1,rotationX:0,autoAlpha:1,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"},{x:0,y:0,scale:.8,rotationZ:0,rotationX:90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 100%"},.3,{scale:1,rotationX:0,autoAlpha:1,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-flipright",.5,{x:0,y:0,scale:.8,rotationZ:0,rotationX:0,rotationY:90,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"0% 50%"},{scale:1,rotationY:0,autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:0,scale:.8,rotationY:90,ease:punchgs.Power3.easeOut,overwrite:"all"},true],[".esg-fliprightout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationY:0,autoAlpha:1,transformOrigin:"100% 50%"},{scale:1,rotationY:-90,autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:1,z:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-flipleft",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:-90,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50%"},{rotationY:0,autoAlpha:1,z:.001,scale:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,rotationY:-90,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"},true],[".esg-flipleftout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationY:0,autoAlpha:1,transformOrigin:"0% 50%"},{scale:1,rotationY:90,autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:1,z:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-turn",.5,{x:50,y:0,scale:0,rotationZ:0,rotationX:0,rotationY:-40,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{scale:1,x:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeInOut,overwrite:"all"},.3,{scale:0,rotationY:-40,autoAlpha:1,z:0,x:50,ease:punchgs.Power3.easeInOut,overwrite:"all"},true],[".esg-turnout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{scale:1,rotationY:40,scale:.6,autoAlpha:0,x:-50,ease:punchgs.Power3.easeInOut,overwrite:"all"},.3,{scale:1,rotationY:0,z:0,autoAlpha:1,x:0,rotationX:0,rotationZ:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-slide",.5,{x:"-1000%",y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:"-400%",y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideright",.5,{x:"-50%",y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:"-50%",z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-sliderightout",.5,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:"50%",y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideleft",.5,{x:"50%",y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:"50%",z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideleftout",.5,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:"-50%",y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideup",.5,{x:0,y:"50%",scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,y:"50%",z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideupout",.5,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,y:"-50%",scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-shifttotop",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slidedown",.5,{x:0,y:"-50%",scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,y:"-50%",z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slidedownout",.5,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,y:"50%",scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-skewright",.5,{x:"-100%",y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,skewX:-60,x:"-100%",z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-skewrightout",.5,{autoAlpha:1,x:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:"100%",y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:-60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-skewleft",.5,{x:"100%",y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:-60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:"100%",z:0,skewX:60,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-skewleftout",.5,{autoAlpha:1,x:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:"-100%",y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-rollleft",.5,{x:"50%",y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:90,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:"50%",z:0,rotationZ:90,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rollleftout",.5,{autoAlpha:1,x:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:"50%",y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:90,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-rollright",.5,{x:"-50%",y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:-90,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:"-50%",rotationZ:-90,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rollrightout",.5,{autoAlpha:1,x:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:"-50%",y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:-90,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-falldown",.4,{x:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,y:"-100%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.4,{y:"-40px",autoAlpha:0,z:0,ease:punchgs.Power2.easeOut,delay:.2,overwrite:"all"}],[".esg-falldownout",.4,{autoAlpha:1,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,y:"100%"},.4,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-rotatescale",.3,{x:0,y:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:80,scale:.6,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"},.3,{autoAlpha:0,scale:.6,z:0,rotationZ:80,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rotatescaleout",.3,{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:80,scale:.6,transformOrigin:"50% 50%"},.3,{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"}],[".esg-zoomback",.3,{x:0,y:0,scale:.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:0,y:0,scale:.2,autoAlpha:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoombackout",.3,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,scale:.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"}],[".esg-zoomfront",.3,{x:0,y:0,scale:1.5,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:0,y:0,scale:1.5,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomfrontout",.3,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,scale:1.5,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"}],[".esg-flyleft",.8,{x:-80,y:0,z:0,scale:.3,rotationZ:0,rotationY:75,rotationX:10,skewX:0,skewY:0,autoAlpha:.01,transformOrigin:"30% 10%"},{x:0,y:0,rotationY:0,z:.001,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},.8,{autoAlpha:.01,x:-40,y:0,z:300,rotationY:60,rotationX:20,overwrite:"all"}],[".esg-flyleftout",.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},{x:-80,y:0,z:0,scale:.3,rotationZ:0,rotationY:75,rotationX:10,skewX:0,skewY:0,autoAlpha:.01,transformOrigin:"30% 10%"},.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-flyright",.8,{scale:1,skewX:0,skewY:0,autoAlpha:0,x:80,y:0,z:0,scale:.3,rotationZ:0,rotationY:-75,rotationX:10,transformOrigin:"70% 20%"},{x:0,y:0,rotationY:0,z:.001,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},.8,{autoAlpha:0,x:40,y:-40,z:300,rotationY:-60,rotationX:-40,overwrite:"all"}],[".esg-flyrightout",.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},{scale:1,skewX:0,skewY:0,autoAlpha:0,x:80,y:0,z:0,scale:.3,rotationZ:0,rotationY:-75,rotationX:10,transformOrigin:"70% 20%"},.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-mediazoom",.3,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1.4,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:0,y:0,scale:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomandrotate",.6,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1.4,x:0,y:0,rotationZ:30,ease:punchgs.Power2.easeOut,overwrite:"all"},.4,{x:0,y:0,scale:1,z:0,rotationZ:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-pressback",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{rotationY:0,autoAlpha:1,scale:.8,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{rotationY:0,autoAlpha:1,z:0,scale:1,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-3dturnright",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformPerspective:600},{x:-40,y:0,scale:.8,rotationZ:2,rotationX:5,rotationY:-28,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50% 40%",transformPerspective:600,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{z:0,x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,force3D:"auto",ease:punchgs.Power2.easeOut,overwrite:"all"},true]];e.fn.extend({tpessential:function(n){e.fn.tpessential.defaults={forceFullWidth:"off",forceFullScreen:"off",fullScreenOffsetContainer:"",row:3,column:4,space:10,pageAnimation:"fade",animSpeed:600,delayBasic:.08,smartPagination:"on",layout:"even",aspectratio:"16:9",bgPosition:"center center",bgSize:"cover",videoJsPath:"",overflowoffset:0,mainhoverdelay:0,rowItemMultiplier:[],loadMoreType:"none",loadMoreItems:[],loadMoreAmount:5,loadMoreTxt:"Load More",loadMoreEndTxt:"No More Item for Selected Filter",loadMoreAjaxUrl:"",loadMoreAjaxToken:"",loadMoreAjaxAction:"",lazyLoad:"off",gridID:0,lazyLoadColor:"#ff0000",spinner:"",spinnerColor:"",lightBoxMode:"single",googleFonts:"",googleFontJS:"//ajax.googleapis.com/ajax/libs/webfont/1/webfont.js"};n=e.extend({},e.fn.tpessential.defaults,n);if(typeof WebFontConfig=="undefined")WebFontConfig=new Object;return this.each(function(){var i=n;var o=e(this);o.parent().css({position:"relative"});if(i.layout=="cobbles"){i.layout="even";i.evenCobbles="on"}else{i.evenCobbles="off"}if(i.get!="true"&&i.get!=true){try{console.groupCollapsed("Essential Grid  1.1.0 Initialisation on "+o.attr("id"));console.groupCollapsed("Used Options:");console.info(n);console.groupEnd();console.groupCollapsed("Tween Engine:")}catch(u){}if(punchgs.TweenLite==t){try{console.error("GreenSock Engine Does not Exist!")}catch(u){}return false}punchgs.force3D=true;try{console.info("GreenSock Engine Version in Essential Grid:"+punchgs.TweenLite.version)}catch(u){}punchgs.TweenLite.lagSmoothing(2e3,16);punchgs.force3D="auto";try{console.groupEnd();console.groupEnd()}catch(u){}e("body").data("fullScreenMode",false);e(window).on("mozfullscreenchange webkitfullscreenchange fullscreenchange",function(){e("body").data("fullScreenMode",!e("body").data("fullScreenMode"))});o.parent().append('<div class="esg-loader '+i.spinner+'">'+'<div class="dot1"></div>'+'<div class="dot2"></div>'+'<div class="punchgs.Bounce1"></div>'+'<div class="punchgs.Bounce2"></div>'+'<div class="punchgs.Bounce3"></div>'+"</div>");if(i.spinner=="spinner1"||i.spinner=="spinner2")o.parent().find(".esg-loader").css({backgroundColor:i.spinnerColor});if(i.spinner=="spinner3"||i.spinner=="spinner4")o.parent().find(".punchgs.Bounce1, .punchgs.Bounce2, .punchgs.Bounce3, .dot1, .dot2").css({backgroundColor:i.spinnerColor});o.parent().css({minHeight:"100px",zIndex:0});if(i.firstshowever==t)o.find(".esg-navigationbutton").css({visibility:"hidden"});o.parent().append('<div class="esg-relative-placeholder" style="width:100%;height:auto"></div>');o.wrap('<div class="esg-container-fullscreen-forcer" style="position:relative;left:0px;top:0px;width:100%;height:auto;"></div>');var f=o.parent().parent().find(".esg-relative-placeholder").offset().left;if(i.forceFullWidth=="on"||i.forceFullScreen=="on")o.closest(".esg-container-fullscreen-forcer").css({left:0-f,width:e(window).width()});i.animDelay=i.delayBasic==0?"off":"on";i.container=o;o.find("ul").first().addClass("mainul").wrap('<div class="esg-overflowtrick"></div>');var c=o.find(".esg-navbutton-solo-left");var h=o.find(".esg-navbutton-solo-right");if(c.length>0){c.css({marginTop:0-c.height()/2});c.appendTo(o.find(".esg-overflowtrick"))}if(h.length>0){h.css({marginTop:0-h.height()/2});h.appendTo(o.find(".esg-overflowtrick"))}punchgs.CSSPlugin.defaultTransformPerspective=1200;i.animSpeed=i.animSpeed/1e3;i.delayBasic=i.delayBasic/100;g(o,i);i.filter=i.statfilter;i.origcolumn=i.column;i.currentpage=0;o.addClass("esg-layout-"+i.layout);var p=F(o,i);function d(t,n){l(t,n);n.initialised="ready";e("body").trigger("essentialready",t.attr("id"))}if(i.googleFonts.length!=0){var v=i.googleFonts.length;var m=true;e("head").find("*").each(function(){if(e(this).attr("src")!=t&&e(this).attr("src").indexOf("webfont.js")>0)m=false});if(WebFontConfig.active==t&&m){WebFontConfig={google:{families:i.googleFonts},active:function(){d(o,i)},inactive:function(){d(o,i)},timeout:1500};var y=document.createElement("script");y.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";y.type="text/javascript";y.async="true";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(y,b)}else{d(o,i)}}else{d(o,i)}if(i.loadMoreType=="button"){o.append('<div class="esg-loadmore-wrapper" style="text-align:center"><div class="esg-navigationbutton esg-loadmore">LOAD MORE</div></div>');var w=o.find(".esg-loadmore");w.html(i.loadMoreTxt+" ("+s(o,i).length+")");w.click(function(){if(w.data("loading")!=1)a(o,i)})}else if(i.loadMoreType=="scroll"){o.append('<div style="display:inline-block" class="esg-navigationbutton esg-loadmore">LOAD MORE</div>');var w=o.find(".esg-loadmore");w.html(i.loadMoreTxt+" ("+s(o,i).length+")");e(document,window).scroll(function(){var t=o.offset().top+o.height()-e(document).scrollTop();if(e(window).height()>t){if(w.data("loading")!=1){w.data("loading",1);a(o,i)}}});var E=o.offset().top+o.height()-e(document).scrollTop();if(e(window).height()>=E){if(w.data("loading")!=1){w.data("loading",1);a(o,i)}}}r(o,i)}})},esappend:function(t){var n=e(this);T(opt,true);A(opt);c(n);return opt.lastslide},esreadsettings:function(n){n=n==t?new Object:n;var r=e(this);var i=m(r);return i},esredraw:function(n){n=n==t?new Object:n;var r=e(this);var i=m(r);if(n.space!=t)i.space=parseInt(n.space,0);if(n.row!=t)i.row=parseInt(n.row,0);if(n.aspectratio!=t)i.aspectratio=n.aspectratio;if(n.forceFullWidth!=t){i.forceFullWidth=n.forceFullWidth;if(i.forceFullWidth=="on"){var s=r.parent().parent().find(".esg-relative-placeholder").offset().left;r.closest(".esg-container-fullscreen-forcer").css({left:0-s,width:e(window).width()})}else r.closest(".esg-container-fullscreen-forcer").css({left:0,width:"auto"})}if(n.rowItemMultiplier!=t)i.rowItemMultiplier=n.rowItemMultiplier;if(n.responsiveEntries!=t)i.responsiveEntries=n.responsiveEntries;if(n.column!=t){if(n.column<=0||n.column>=20){var o=v(i,e(window).width(),"id");i.column=o.column;i.columnindex=o.index}else{i.column=parseInt(n.column,0)}i.origcolumn=i.column}if(n.animSpeed!=t)i.animSpeed=n.animSpeed/1e3;if(n.delayBasic!=t)i.delayBasic=n.delayBasic/100;i.pageAnimation=n.pageAnimation;i.changedAnim=n.changedAnim;i.started=true;if(n.silent==true)i.silent=true;g(r,i);C(i);A(i)},esquickdraw:function(n){n=n==t?new Object:n;var r=e(this);var i=m(r);i.silent=true;g(r,i);C(i);A(i)},esreinit:function(t){var n=e(this);T(opt,true);A(opt);c(n);return opt.lastslide},somemethodb:function(t){return this.each(function(){var t=e(this)})}});var f=function(){var e=["android","webos","iphone","ipad","blackberry","Android","webos",,"iPod","iPhone","iPad","Blackberry","BlackBerry"];var t=false;for(i in e){if(navigator.userAgent.split(e[i]).length>1){t=true}}return t};var L=function(t,n){var r=t.closest(".esg-grid").parent().parent().find(".esg-loader");if(r.length>0)punchgs.TweenLite.to(r,.2,{autoAlpha:1,delay:.5});var i=setInterval(function(){n.bannertimeronpause=true;n.cd=0;var s=0;t.find("img").each(function(t){if(e(this).data("lazydone")!=1&&n.lazyLoad=="on"&&e(this).parent().find(".lazyloadcover").length<1){e(this).parent().append('<div class="lazyloadcover" style="position:absolute;top:0px;left:0px;z-index:10;width:100%;height:100%;background:'+n.lazyLoadColor+'"></div>')}if(e(this).data("lazydone")!=1&&s<3){s++;k(e(this),n)}});if(s==0){if(r.length>0){punchgs.TweenLite.killTweensOf(r,false);punchgs.TweenLite.to(r,.2,{autoAlpha:0})}}if(s==0&&!t.closest(".mainul").hasClass("gridorganising")){clearInterval(i);M(n)}},50)}})(jQuery);(function(e,t){"use strict";function p(e){return e&&e.toLowerCase?e.toLowerCase():e}function d(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]==t)return!n;return n}var n=!1,r=null,i=parseFloat,s=Math.min,o=/(-?\d+\.?\d*)$/g,u=/(\d+\.?\d*)$/g,a=[],f=[],l=function(e){return typeof e=="string"},c=function(e,t){var n=e.length,r=n,i;while(r--){i=n-r-1;t(e[i],i)}},h=Array.prototype.indexOf||function(e){var t=this.length,n=Number(arguments[1])||0;n=n<0?Math.ceil(n):Math.floor(n);if(n<0)n+=t;for(;n<t;n++){if(n in this&&this[n]===e)return n}return-1};e.tinysort={id:"TinySort",version:"1.5.6",copyright:"Copyright (c) 2008-2013 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},plugin:function(){var e=function(e,t){a.push(e);f.push(t)};e.indexOf=h;return e}(),defaults:{order:"asc",attr:r,data:r,useVal:n,place:"start",returns:n,cases:n,forceStrings:n,ignoreDashes:n,sortFunction:r}};e.fn.extend({tinysort:function(){var v,m,g,y=this,b=[],w=[],E=[],S=[],x=0,T,N=[],C=[],k=function(e){c(a,function(t){t.call(t,e)})},L=function(e,t){if(typeof t=="string"){if(!e.cases)t=p(t);t=t.replace(/^\s*(.*?)\s*$/i,"$1")}return t},A=function(e,t){var r=0;if(x!==0)x=0;while(r===0&&x<T){var s=S[x],a=s.oSettings,h=a.ignoreDashes?u:o;k(a);if(a.sortFunction){r=a.sortFunction(e,t)}else if(a.order=="rand"){r=Math.random()<.5?1:-1}else{var p=n,d=L(a,e.s[x]),v=L(a,t.s[x]);if(!a.forceStrings){var m=l(d)?d&&d.match(h):n,g=l(v)?v&&v.match(h):n;if(m&&g){var y=d.substr(0,d.length-m[0].length),b=v.substr(0,v.length-g[0].length);if(y==b){p=!n;d=i(m[0]);v=i(g[0])}}}r=s.iAsc*(d<v?-1:d>v?1:0)}c(f,function(e){r=e.call(e,p,d,v,r)});if(r===0)x++}return r};for(v=0,g=arguments.length;v<g;v++){var O=arguments[v];if(l(O)){if(N.push(O)-1>C.length)C.length=N.length-1}else{if(C.push(O)>N.length)N.length=C.length}}if(N.length>C.length)C.length=N.length;T=N.length;if(T===0){T=N.length=1;C.push({})}for(v=0,g=T;v<g;v++){var M=N[v],_=e.extend({},e.tinysort.defaults,C[v]),D=!(!M||M===""),P=D&&M[0]===":";S.push({sFind:M,oSettings:_,bFind:D,bAttr:!(_.attr===r||_.attr===""),bData:_.data!==r,bFilter:P,$Filter:P?y.filter(M):y,fnSort:_.sortFunction,iAsc:_.order=="asc"?1:-1})}y.each(function(n,r){var i=e(r),s=i.parent().get(0),o,u=[];for(m=0;m<T;m++){var a=S[m],f=a.bFind?a.bFilter?a.$Filter.filter(r):i.find(a.sFind):i;u.push(a.bData?f.data(a.oSettings.data):a.bAttr?f.attr(a.oSettings.attr):a.oSettings.useVal?f.val():f.text());if(o===t)o=f}var l=h.call(E,s);if(l<0){l=E.push(s)-1;w[l]={s:[],n:[]}}if(o.length>0)w[l].s.push({s:u,e:i,n:n});else w[l].n.push({e:i,n:n})});c(w,function(e){e.s.sort(A)});c(w,function(e){var t=e.s,r=e.n,i=t.length,o=r.length,u=i+o,a=[],f=u,l=[0,0];switch(_.place){case"first":c(t,function(e){f=s(f,e.n)});break;case"org":c(t,function(e){a.push(e.n)});break;case"end":f=o;break;default:f=0}for(v=0;v<u;v++){var h=d(a,v)?!n:v>=f&&v<f+i,p=h?0:1,m=(h?t:r)[l[p]].e;m.parent().append(m);if(h||!_.returns)b.push(m.get(0));l[p]++}});y.length=0;Array.prototype.push.apply(y,b);return y}});e.fn.TinySort=e.fn.Tinysort=e.fn.tsort=e.fn.tinysort})(jQuery)